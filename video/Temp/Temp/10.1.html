<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mensuration - Perimeter & Area</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: radial-gradient(circle at center, #0b0c10, #000);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    .container {
      background: rgba(0, 0, 0, 0.55);
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
      width: 95%;
      max-width: 900px;
      padding: 16px;
      text-align: center;
      color: white;
    }
    h2, h3 { margin: 5px 0; }
    svg { width: 100%; height: auto; }
    .caption {
      font-size: 1rem;
      margin-top: 12px;
      background: rgba(255,255,255,0.15);
      padding: 8px 16px;
      border-radius: 10px;
      display: inline-block;
      color: #fff;
    }
    select, button {
      margin: 8px;
      padding: 8px 14px;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
    }
    select { background: #212121; color: #fff; border: 1px solid #555; }
    #replayBtn { background: #ff7b54; color: #fff; display: none; }
    #pauseBtn { background: #4CAF50; color: #fff; }
    #replayBtn:hover { background: #ff5722; }
    #pauseBtn:hover { background: #2e7d32; }

    .shape-label { font-weight: bold; fill: #fff; font-size: 18px; }

    .star {
      fill: white;
      opacity: 0.6;
      filter: drop-shadow(0 0 3px white);
      animation: twinkle 2s infinite alternate;
    }
    @keyframes twinkle {
      0% { opacity: 0.3; transform: scale(0.9); }
      100% { opacity: 1; transform: scale(1.1); }
    }

    @media(max-width:600px){
      .shape-label { font-size: 14px; }
      .caption { font-size: 0.85rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Chapter 10: Mensuration</h2>
    <h3>Perimeter & Area of Simple Figures</h3>

    <label for="langSelect">üåê Language:</label>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
    </select>

    <svg viewBox="0 0 900 400" preserveAspectRatio="xMidYMid meet">
      <!-- Starry Space Background -->
      <g id="stars">
        <circle class="star" cx="40" cy="50" r="2.2"/>
        <circle class="star" cx="140" cy="80" r="1.8"/>
        <circle class="star" cx="260" cy="60" r="2"/>
        <circle class="star" cx="380" cy="50" r="1.5"/>
        <circle class="star" cx="500" cy="70" r="2.3"/>
        <circle class="star" cx="620" cy="90" r="1.9"/>
        <circle class="star" cx="740" cy="50" r="2"/>
        <circle class="star" cx="860" cy="80" r="1.6"/>
        <circle class="star" cx="120" cy="300" r="1.5"/>
        <circle class="star" cx="350" cy="330" r="2"/>
        <circle class="star" cx="560" cy="320" r="1.8"/>
        <circle class="star" cx="800" cy="300" r="1.6"/>
      </g>

      <!-- Shapes -->
      <rect id="square" x="80" y="140" width="80" height="80" fill="url(#grad1)" stroke="#FFD93D" stroke-width="3" opacity="0"/>
      <rect id="rectangle" x="260" y="140" width="140" height="80" fill="url(#grad2)" stroke="#6BCB77" stroke-width="3" opacity="0"/>
      <polygon id="triangle" points="540,220 600,140 660,220" fill="url(#grad3)" stroke="#4D96FF" stroke-width="3" opacity="0"/>

      <text class="shape-label" id="labelSquare" x="120" y="250" opacity="0" text-anchor="middle">Square</text>
      <text class="shape-label" id="labelRectangle" x="330" y="250" opacity="0" text-anchor="middle">Rectangle</text>
      <text class="shape-label" id="labelTriangle" x="600" y="250" opacity="0" text-anchor="middle">Triangle</text>

      <defs>
        <radialGradient id="grad1" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#FFF176"/>
          <stop offset="100%" stop-color="#FBC02D"/>
        </radialGradient>
        <radialGradient id="grad2" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#A5D6A7"/>
          <stop offset="100%" stop-color="#2E7D32"/>
        </radialGradient>
        <radialGradient id="grad3" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#90CAF9"/>
          <stop offset="100%" stop-color="#1565C0"/>
        </radialGradient>
      </defs>
    </svg>

    <div id="caption" class="caption">Let's explore perimeter and area!</div>
    <br>
    <button id="pauseBtn">‚è∏ Pause</button>
    <button id="replayBtn">üîÑ Replay</button>
  </div>

  <script>
    const caption = document.getElementById("caption");
    const replayBtn = document.getElementById("replayBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const langSelect = document.getElementById("langSelect");

    let paused = false;
    let stepIndex = 0;
    let currentLang = "en";

    const captions = {
      en: [
        "Let's explore perimeter and area!",
        "This is a square ‚Äî Perimeter = 4 √ó side, Area = side¬≤",
        "This is a rectangle ‚Äî Perimeter = 2 √ó (L + B), Area = L √ó B",
        "This is a triangle ‚Äî Perimeter = sum of all sides, Area = ¬Ω √ó base √ó height"
      ],
      hi: [
        "‡§Ü‡§á‡§è ‡§™‡§∞‡§ø‡§Æ‡§æ‡§™ ‡§î‡§∞ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§ï‡§æ ‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç!",
        "‡§Ø‡§π ‡§è‡§ï ‡§µ‡§∞‡•ç‡§ó ‡§π‡•à ‚Äî ‡§™‡§∞‡§ø‡§Æ‡§æ‡§™ = 4 √ó ‡§≠‡•Å‡§ú‡§æ, ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ = ‡§≠‡•Å‡§ú‡§æ¬≤",
        "‡§Ø‡§π ‡§è‡§ï ‡§Ü‡§Ø‡§§ ‡§π‡•à ‚Äî ‡§™‡§∞‡§ø‡§Æ‡§æ‡§™ = 2 √ó (‡§≤ + ‡§¨), ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ = ‡§≤ √ó ‡§¨",
        "‡§Ø‡§π ‡§è‡§ï ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§π‡•à ‚Äî ‡§™‡§∞‡§ø‡§Æ‡§æ‡§™ = ‡§∏‡§≠‡•Ä ‡§≠‡•Å‡§ú‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§Ø‡•ã‡§ó, ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ = ¬Ω √ó ‡§Ü‡§ß‡§æ‡§∞ √ó ‡§ä‡§Å‡§ö‡§æ‡§à"
      ],
      ta: [
        "‡Æö‡ØÅ‡Æ±‡Øç‡Æ±‡Æ≥‡Æµ‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡Æ≥‡Æµ‡Øà ‡Æï‡Æ±‡Øç‡Æ™‡Øã‡ÆÆ‡Øç!",
        "‡Æá‡Æ§‡ØÅ ‡Æí‡Æ∞‡ØÅ ‡Æö‡Æ§‡ØÅ‡Æ∞‡ÆÆ‡Øç ‚Äî ‡Æö‡ØÅ‡Æ±‡Øç‡Æ±‡Æ≥‡Æµ‡ØÅ = 4 √ó ‡Æ™‡Æï‡Øç‡Æï‡ÆÆ‡Øç, ‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡Æ≥‡Æµ‡ØÅ = ‡Æ™‡Æï‡Øç‡Æï‡ÆÆ‡Øç¬≤",
        "‡Æá‡Æ§‡ØÅ ‡Æí‡Æ∞‡ØÅ ‡Æö‡ØÜ‡Æµ‡Øç‡Æµ‡Æï‡ÆÆ‡Øç ‚Äî ‡Æö‡ØÅ‡Æ±‡Øç‡Æ±‡Æ≥‡Æµ‡ØÅ = 2 √ó (‡Æ®‡ØÄ‡Æ≥‡ÆÆ‡Øç + ‡ÆÖ‡Æï‡Æ≤‡ÆÆ‡Øç), ‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡Æ≥‡Æµ‡ØÅ = ‡Æ®‡ØÄ‡Æ≥‡ÆÆ‡Øç √ó ‡ÆÖ‡Æï‡Æ≤‡ÆÆ‡Øç",
        "‡Æá‡Æ§‡ØÅ ‡Æí‡Æ∞‡ØÅ ‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡Øã‡Æ£‡ÆÆ‡Øç ‚Äî ‡Æö‡ØÅ‡Æ±‡Øç‡Æ±‡Æ≥‡Æµ‡ØÅ = ‡ÆÆ‡ØÇ‡Æ©‡Øç‡Æ±‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æï‡ØÇ‡Æü‡Øç‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Øä‡Æï‡Øà, ‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡Æ≥‡Æµ‡ØÅ = ¬Ω √ó ‡ÆÖ‡Æü‡Æø‡Æ™‡Øç‡Æ™‡Æü‡Øà √ó ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡Øç"
      ],
      te: [
        "‡∞™‡∞∞‡∞ø‡∞ß‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡∞ø‡∞∏‡±ç‡∞§‡±Ä‡∞∞‡±ç‡∞£‡∞Ç ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç!",
        "‡∞á‡∞¶‡∞ø ‡∞í‡∞ï ‡∞ö‡∞¶‡∞∞‡∞Ç‡∞ó‡∞Ç ‚Äî ‡∞™‡∞∞‡∞ø‡∞ß‡∞ø = 4 √ó ‡∞≠‡±Å‡∞ú‡∞Ç, ‡∞µ‡∞ø‡∞∏‡±ç‡∞§‡±Ä‡∞∞‡±ç‡∞£‡∞Ç = ‡∞≠‡±Å‡∞ú‡∞Ç¬≤",
        "‡∞á‡∞¶‡∞ø ‡∞í‡∞ï ‡∞¶‡±Ä‡∞∞‡±ç‡∞ò‡∞ö‡∞§‡±Å‡∞∞‡∞∏‡±ç‡∞∞‡∞Ç ‚Äî ‡∞™‡∞∞‡∞ø‡∞ß‡∞ø = 2 √ó (‡∞≤ + ‡∞¨‡∞ø), ‡∞µ‡∞ø‡∞∏‡±ç‡∞§‡±Ä‡∞∞‡±ç‡∞£‡∞Ç = ‡∞≤ √ó ‡∞¨‡∞ø",
        "‡∞á‡∞¶‡∞ø ‡∞í‡∞ï ‡∞§‡±ç‡∞∞‡∞ø‡∞≠‡±Å‡∞ú‡∞Ç ‚Äî ‡∞™‡∞∞‡∞ø‡∞ß‡∞ø = ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞≠‡±Å‡∞ú‡∞æ‡∞≤ ‡∞Æ‡±ä‡∞§‡±ç‡∞§‡∞Ç, ‡∞µ‡∞ø‡∞∏‡±ç‡∞§‡±Ä‡∞∞‡±ç‡∞£‡∞Ç = ¬Ω √ó ‡∞¨‡±á‡∞∏‡±ç √ó ‡∞é‡∞§‡±ç‡∞§‡±Å"
      ],
      or: [
        "‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å ‡¨™‡¨∞‡¨ø‡¨ß‡¨ø ‡¨è‡¨¨‡¨Ç ‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞‡¨´‡¨≥ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ!",
        "‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨¨‡¨∞‡≠ç‡¨ó ‚Äî ‡¨™‡¨∞‡¨ø‡¨ß‡¨ø = 4 √ó ‡¨™‡¨æ‡¨ü‡¨ø, ‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞‡¨´‡¨≥ = ‡¨™‡¨æ‡¨ü‡¨ø¬≤",
        "‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨Ü‡≠ü‡¨§ ‚Äî ‡¨™‡¨∞‡¨ø‡¨ß‡¨ø = 2 √ó (‡¨≤ + ‡¨¨), ‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞‡¨´‡¨≥ = ‡¨≤ √ó ‡¨¨",
        "‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú ‚Äî ‡¨™‡¨∞‡¨ø‡¨ß‡¨ø = ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨™‡¨æ‡¨ü‡¨ø‡¨∞ ‡¨Ø‡≠ã‡¨ó, ‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞‡¨´‡¨≥ = ¬Ω √ó ‡¨Ü‡¨ß‡¨æ‡¨∞ √ó ‡¨â‡¨ö‡≠ç‡¨ö‡¨§‡¨æ"
      ]
    };

    const voicesMap = { en: "en-IN", hi: "hi-IN", ta: "ta-IN", te: "te-IN", or: "or-IN" };

    function speak(text, lang, callback) {
      if (paused) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = voicesMap[lang] || "en-IN";
      utterance.rate = 0.95;
      utterance.onend = () => { if (!paused) callback(); };
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utterance);
    }

    function runStep() {
      if (stepIndex >= captions[currentLang].length) {
        replayBtn.style.display = "inline-block";
        return;
      }
      caption.textContent = captions[currentLang][stepIndex];

      if (stepIndex === 1) gsap.to(["#square","#labelSquare"], {duration: 1, opacity: 1, scale: 1.2, transformOrigin: "center"});
      if (stepIndex === 2) gsap.to(["#rectangle","#labelRectangle"], {duration: 1, opacity: 1, scale: 1.2, transformOrigin: "center"});
      if (stepIndex === 3) gsap.to(["#triangle","#labelTriangle"], {duration: 1, opacity: 1, scale: 1.2, transformOrigin: "center"});

      speak(captions[currentLang][stepIndex], currentLang, () => {
        stepIndex++;
        if (!paused) runStep();
      });
    }

    function playAnimation() {
      replayBtn.style.display = "none";
      paused = false;
      stepIndex = 0;
      gsap.set(["#square","#rectangle","#triangle","#labelSquare","#labelRectangle","#labelTriangle"], {opacity:0, scale:1});
      runStep();
    }

    pauseBtn.addEventListener("click", () => {
      if (!paused) { paused = true; window.speechSynthesis.cancel(); pauseBtn.textContent = "‚ñ∂ Play"; }
      else { paused = false; pauseBtn.textContent = "‚è∏ Pause"; runStep(); }
    });

    replayBtn.addEventListener("click", playAnimation);
    langSelect.addEventListener("change", () => {
      currentLang = langSelect.value;
      if (!paused) playAnimation();
      else caption.textContent = captions[currentLang][stepIndex] || captions[currentLang][0];
    });

    playAnimation();
  </script>
</body>
</html>
