<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Types of Solids: Crystalline & Amorphous</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: black; /* space background */
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      position: relative;
      color: white;
    }

    /* SVG space background */
    #space-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .card {
      position: relative;
      z-index: 1; /* card above background */
      background: rgba(0, 0, 0, 0.6);
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
      width: 70%;
      max-width: 850px;
      padding: 20px;
      text-align: center;
    }

    svg { width: 100%; height: auto; }

    .caption {
      font-size: 1rem;
      margin-top: 12px;
      background: rgba(0,0,0,0.2);
      padding: 8px 16px;
      border-radius: 10px;
      display: inline-block;
      color: #fff;
    }

    button, select {
      margin: 8px;
      padding: 10px 16px;
      border: none;
      border-radius: 10px;
      font-size: 0.9rem;
      font-weight: bold;
      cursor: pointer;
    }

    #replayBtn { background: #ff7b54; color: #fff; display: none; }
    #pauseBtn { background: #4CAF50; color: #fff; }
    #replayBtn:hover { background: #ff5722; }
    #pauseBtn:hover { background: #2e7d32; }
    select { border: 1px solid #ccc; font-weight: normal; padding: 6px 12px; }

    .numText { font-weight: bold; font-size: 22px; fill: #111; }
    .comma { font-size: 22px; font-weight: bold; fill: #666; }
    .highlight { fill: red !important; font-weight: bold; }
    .solid-title { font-size: 18px; font-weight: bold; fill: #fff; }
    .particle { fill: #4D96FF; }
    .amorphous-particle { fill: #FF6B6B; }

    /* Finish button styling */
    .nav-btn, .finish-btn {
      background: linear-gradient(90deg,#ff7b54,#ff5a9e);
      color: #fff;
      padding: 10px 16px;
      border-radius: 12px;
      border: none;
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
      font-weight: 700;
      cursor: pointer;
    }
    .finish-btn { position: fixed; right: 18px; bottom: 18px; z-index: 1200; }
  </style>
</head>
<body>

  <!-- SVG animated space background -->
  <svg id="space-bg">
    <defs>
      <radialGradient id="star-gradient" cx="50%" cy="50%" r="50%">
        <stop offset="0%" stop-color="#fff" stop-opacity="1"/>
        <stop offset="100%" stop-color="#fff" stop-opacity="0"/>
      </radialGradient>
    </defs>
  </svg>

  <div class="card">
    <h2>Types of Solids</h2>
    <h3>Crystalline & Amorphous Solids</h3>

    <!-- Language selector -->
    <label for="langSelect">üåê Choose Language: </label>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü (Odia)</option>
    </select>

    <!-- SVG solids -->
    <svg viewBox="0 0 950 400">
      <!-- Crystalline solid -->
      <g id="crystalline">
        <rect x="80" y="100" width="250" height="180" rx="15" fill="#E3F2FD"/>
        <text class="solid-title" x="205" y="130" text-anchor="middle">Crystalline Solid</text>
        <circle class="particle" cx="120" cy="170" r="8"/>
        <circle class="particle" cx="160" cy="170" r="8"/>
        <circle class="particle" cx="200" cy="170" r="8"/>
        <circle class="particle" cx="240" cy="170" r="8"/>
        <circle class="particle" cx="280" cy="170" r="8"/>
        <circle class="particle" cx="120" cy="210" r="8"/>
        <circle class="particle" cx="160" cy="210" r="8"/>
        <circle class="particle" cx="200" cy="210" r="8"/>
        <circle class="particle" cx="240" cy="210" r="8"/>
        <circle class="particle" cx="280" cy="210" r="8"/>
        <circle class="particle" cx="120" cy="250" r="8"/>
        <circle class="particle" cx="160" cy="250" r="8"/>
        <circle class="particle" cx="200" cy="250" r="8"/>
        <circle class="particle" cx="240" cy="250" r="8"/>
        <circle class="particle" cx="280" cy="250" r="8"/>
      </g>

      <!-- Amorphous solid -->
      <g id="amorphous">
        <rect x="480" y="100" width="270" height="180" rx="15" fill="#FFEBEE"/>
        <text class="solid-title" x="615" y="130" text-anchor="middle">Amorphous Solid</text>
        <circle class="amorphous-particle" cx="520" cy="170" r="8"/>
        <circle class="amorphous-particle" cx="560" cy="165" r="8"/>
        <circle class="amorphous-particle" cx="600" cy="175" r="8"/>
        <circle class="amorphous-particle" cx="640" cy="168" r="8"/>
        <circle class="amorphous-particle" cx="680" cy="172" r="8"/>
        <circle class="amorphous-particle" cx="525" cy="210" r="8"/>
        <circle class="amorphous-particle" cx="565" cy="215" r="8"/>
        <circle class="amorphous-particle" cx="605" cy="205" r="8"/>
        <circle class="amorphous-particle" cx="645" cy="218" r="8"/>
        <circle class="amorphous-particle" cx="685" cy="208" r="8"/>
        <circle class="amorphous-particle" cx="530" cy="250" r="8"/>
        <circle class="amorphous-particle" cx="570" cy="245" r="8"/>
        <circle class="amorphous-particle" cx="610" cy="255" r="8"/>
        <circle class="amorphous-particle" cx="650" cy="248" r="8"/>
        <circle class="amorphous-particle" cx="690" cy="252" r="8"/>
      </g>
    </svg>

    <div id="caption" class="caption">Let's explore the different types of solids!</div>
    <br>
    <button id="pauseBtn">‚è∏ Pause</button>
    <button id="replayBtn">üîÑ Replay</button>
    <button id="videoFinishBtn" class="nav-btn finish-btn">Finish</button>
  </div>

  <script>
    /* === STAR BACKGROUND === */
    const svgBg = document.getElementById('space-bg');
    const starCount = 200;

    function createStars() {
      svgBg.innerHTML = '<defs><radialGradient id="star-gradient" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="#fff" stop-opacity="1"/><stop offset="100%" stop-color="#fff" stop-opacity="0"/></radialGradient></defs>';
      for (let i=0;i<starCount;i++){
        const star = document.createElementNS("http://www.w3.org/2000/svg","circle");
        star.setAttribute("cx", Math.random()*window.innerWidth);
        star.setAttribute("cy", Math.random()*window.innerHeight);
        star.setAttribute("r", Math.random()*2+0.5);
        star.setAttribute("fill","url(#star-gradient)");
        svgBg.appendChild(star);
      }
    }
    createStars();
    setInterval(()=> {
      svgBg.querySelectorAll('circle').forEach(star=> {
        star.setAttribute("r", Math.random()*2+0.5);
      });
    },500);
    window.addEventListener('resize', createStars);

    /* === CAPTIONS AND ANIMATIONS === */
    const caption = document.getElementById("caption");
    const replayBtn = document.getElementById("replayBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const langSelect = document.getElementById("langSelect");

    let paused = false;
    let currentStepIndex = 0;
    let currentLang = "en";

    const captions = {
      en: [
        "Let's explore the different types of solids!",
        "Solids can be classified into two main types: Crystalline and Amorphous.",
        "Crystalline solids have a highly ordered arrangement of particles.",
        "They have a definite melting point and are anisotropic in nature.",
        "Amorphous solids have a disordered arrangement of particles.",
        "They have no definite melting point and are isotropic in nature."
      ],
      hi: [
        "‡§Ü‡§á‡§è ‡§†‡•ã‡§∏ ‡§™‡§¶‡§æ‡§∞‡•ç‡§•‡•ã‡§Ç ‡§ï‡•á ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡§æ‡§®‡•á‡§Ç!",
        "‡§†‡•ã‡§∏ ‡§™‡§¶‡§æ‡§∞‡•ç‡§•‡•ã‡§Ç ‡§ï‡•ã ‡§¶‡•ã ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§µ‡§∞‡•ç‡§ó‡•Ä‡§ï‡•É‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à: ‡§ï‡•ç‡§∞‡§ø‡§∏‡•ç‡§ü‡§≤‡•Ä‡§Ø ‡§î‡§∞ ‡§Ö‡§ï‡•ç‡§∞‡§ø‡§∏‡•ç‡§ü‡§≤‡•Ä‡§Ø‡•§",
        "‡§ï‡•ç‡§∞‡§ø‡§∏‡•ç‡§ü‡§≤‡•Ä‡§Ø ‡§†‡•ã‡§∏ ‡§Æ‡•á‡§Ç ‡§ï‡§£‡•ã‡§Ç ‡§ï‡•Ä ‡§Ö‡§§‡•ç‡§Ø‡§ß‡§ø‡§ï ‡§ï‡•ç‡§∞‡§Æ‡§¨‡§¶‡•ç‡§ß ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
        "‡§á‡§®‡§ï‡§æ ‡§è‡§ï ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ó‡§≤‡§®‡§æ‡§Ç‡§ï ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ø‡•á ‡§Ö‡§∏‡§Æ‡§¶‡§ø‡§∂‡•Ä‡§Ø ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§",
        "‡§Ö‡§ï‡•ç‡§∞‡§ø‡§∏‡•ç‡§ü‡§≤‡•Ä‡§Ø ‡§†‡•ã‡§∏ ‡§Æ‡•á‡§Ç ‡§ï‡§£‡•ã‡§Ç ‡§ï‡•Ä ‡§Ö‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§ø‡§§ ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
        "‡§á‡§®‡§ï‡§æ ‡§ï‡•ã‡§à ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ó‡§≤‡§®‡§æ‡§Ç‡§ï ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡§æ ‡§î‡§∞ ‡§Ø‡•á ‡§∏‡§Æ‡§¶‡§ø‡§∂‡•Ä‡§Ø ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§"
      ],
      ta: [
        "‡Æ§‡Æø‡Æ£‡Øç‡ÆÆ‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æµ‡ØÜ‡Æµ‡Øç‡Æµ‡Øá‡Æ±‡ØÅ ‡Æµ‡Æï‡Øà‡Æï‡Æ≥‡Øà ‡ÆÜ‡Æ∞‡Ææ‡ÆØ‡Øç‡Æµ‡Øã‡ÆÆ‡Øç!",
        "‡Æ§‡Æø‡Æ£‡Øç‡ÆÆ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ∞‡Æ£‡Øç‡Æü‡ØÅ ‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡Æø‡ÆØ ‡Æµ‡Æï‡Øà‡Æï‡Æ≥‡Ææ‡Æï ‡Æ™‡Æø‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ©: ‡Æ™‡Æü‡Æø‡Æï ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æü‡Æø‡Æï‡ÆÆ‡Æ±‡Øç‡Æ±.",
        "‡Æ™‡Æü‡Æø‡Æï ‡Æ§‡Æø‡Æ£‡Øç‡ÆÆ‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æø‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡Æí‡Æ¥‡ØÅ‡Æô‡Øç‡Æï‡Ææ‡Æï ‡ÆÖ‡ÆÆ‡Øà‡Æ®‡Øç‡Æ§‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æ©.",
        "‡ÆÖ‡Æµ‡Æ±‡Øç‡Æ±‡Æø‡Æ±‡Øç‡Æï‡ØÅ ‡Æí‡Æ∞‡ØÅ ‡Æï‡ØÅ‡Æ±‡Æø‡Æ™‡Øç‡Æ™‡Æø‡Æü‡Øç‡Æü ‡Æâ‡Æ∞‡ØÅ‡Æï‡ØÅ‡Æ®‡Æø‡Æ≤‡Øà ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æµ‡Øà ‡ÆÖ‡Æ©‡Æø‡Æö‡Øã‡Æü‡Øç‡Æ∞‡Øã‡Æ™‡Æø‡Æï‡Øç ‡Æ§‡Æ©‡Øç‡ÆÆ‡Øà ‡Æï‡Øä‡Æ£‡Øç‡Æü‡Æµ‡Øà.",
        "‡Æ™‡Æü‡Æø‡Æï‡ÆÆ‡Æ±‡Øç‡Æ± ‡Æ§‡Æø‡Æ£‡Øç‡ÆÆ‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç‡Æï‡Æ≥‡Øç ‡Æí‡Æ¥‡ØÅ‡Æô‡Øç‡Æï‡Æ±‡Øç‡Æ± ‡ÆÆ‡ØÅ‡Æ±‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡ÆÖ‡ÆÆ‡Øà‡Æ®‡Øç‡Æ§‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æ©.",
        "‡ÆÖ‡Æµ‡Æ±‡Øç‡Æ±‡Æø‡Æ±‡Øç‡Æï‡ØÅ ‡Æï‡ØÅ‡Æ±‡Æø‡Æ™‡Øç‡Æ™‡Æø‡Æü‡Øç‡Æü ‡Æâ‡Æ∞‡ØÅ‡Æï‡ØÅ‡Æ®‡Æø‡Æ≤‡Øà ‡Æá‡Æ≤‡Øç‡Æ≤‡Øà ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æµ‡Øà ‡Æê‡Æö‡Øã‡Æü‡Øç‡Æ∞‡Øã‡Æ™‡Æø‡Æï‡Øç ‡Æ§‡Æ©‡Øç‡ÆÆ‡Øà ‡Æï‡Øä‡Æ£‡Øç‡Æü‡Æµ‡Øà."
      ],
      te: [
        "‡∞ò‡∞® ‡∞™‡∞¶‡∞æ‡∞∞‡±ç‡∞•‡∞æ‡∞≤ ‡∞µ‡∞ø‡∞µ‡∞ø‡∞ß ‡∞∞‡∞ï‡∞æ‡∞≤‡∞®‡±Å ‡∞Ö‡∞®‡±ç‡∞µ‡±á‡∞∑‡∞ø‡∞¶‡±ç‡∞¶‡∞æ‡∞Ç!",
        "‡∞ò‡∞® ‡∞™‡∞¶‡∞æ‡∞∞‡±ç‡∞•‡∞æ‡∞≤‡±Å ‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞™‡±ç‡∞∞‡∞ß‡∞æ‡∞® ‡∞∞‡∞ï‡∞æ‡∞≤‡±Å‡∞ó‡∞æ ‡∞µ‡∞∞‡±ç‡∞ó‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡±ç‡∞°‡∞æ‡∞Ø‡∞ø: ‡∞∏‡±ç‡∞´‡∞ü‡∞ø‡∞ï ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ö‡∞∏‡±ç‡∞´‡∞ü‡∞ø‡∞ï.",
        "‡∞∏‡±ç‡∞´‡∞ü‡∞ø‡∞ï ‡∞ò‡∞® ‡∞™‡∞¶‡∞æ‡∞∞‡±ç‡∞•‡∞æ‡∞≤‡∞≤‡±ã ‡∞ï‡∞£‡∞æ‡∞≤‡±Å ‡∞Ö‡∞§‡±ç‡∞Ø‡∞Ç‡∞§ ‡∞ï‡±ç‡∞∞‡∞Æ‡∞¨‡∞¶‡±ç‡∞ß‡∞Ç‡∞ó‡∞æ ‡∞Ö‡∞Æ‡∞∞‡∞ø ‡∞â‡∞Ç‡∞ü‡∞æ‡∞Ø‡∞ø.",
        "‡∞µ‡∞æ‡∞ü‡∞ø‡∞ï‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞¶‡∞ø‡∞∑‡±ç‡∞ü ‡∞¶‡±ç‡∞∞‡∞µ‡±Ä‡∞≠‡∞µ‡∞® ‡∞¨‡∞ø‡∞Ç‡∞¶‡±Å‡∞µ‡±Å ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ö‡∞µ‡∞ø ‡∞Ö‡∞®‡∞ø‡∞∏‡±ã‡∞ü‡±ç‡∞∞‡±ã‡∞™‡∞ø‡∞ï‡±ç ‡∞∏‡±ç‡∞µ‡∞≠‡∞æ‡∞µ‡∞Ç ‡∞ï‡∞≤‡∞ø‡∞ó‡∞ø ‡∞â‡∞Ç‡∞ü‡∞æ‡∞Ø‡∞ø.",
        "‡∞Ö‡∞∏‡±ç‡∞´‡∞ü‡∞ø‡∞ï ‡∞ò‡∞® ‡∞™‡∞¶‡∞æ‡∞∞‡±ç‡∞•‡∞æ‡∞≤‡∞≤‡±ã ‡∞ï‡∞£‡∞æ‡∞≤‡±Å ‡∞ï‡±ç‡∞∞‡∞Æ‡∞∞‡∞π‡∞ø‡∞§‡∞Ç‡∞ó‡∞æ ‡∞Ö‡∞Æ‡∞∞‡∞ø ‡∞â‡∞Ç‡∞ü‡∞æ‡∞Ø‡∞ø.",
        "‡∞µ‡∞æ‡∞ü‡∞ø‡∞ï‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞¶‡∞ø‡∞∑‡±ç‡∞ü ‡∞¶‡±ç‡∞∞‡∞µ‡±Ä‡∞≠‡∞µ‡∞® ‡∞¨‡∞ø‡∞Ç‡∞¶‡±Å‡∞µ‡±Å ‡∞â‡∞Ç‡∞°‡∞¶‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ö‡∞µ‡∞ø ‡∞ê‡∞∏‡±ã‡∞ü‡±ç‡∞∞‡±ã‡∞™‡∞ø‡∞ï‡±ç ‡∞∏‡±ç‡∞µ‡∞≠‡∞æ‡∞µ‡∞Ç ‡∞ï‡∞≤‡∞ø‡∞ó‡∞ø ‡∞â‡∞Ç‡∞ü‡∞æ‡∞Ø‡∞ø."
      ],
      or: [
        "‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨ò‡¨® ‡¨™‡¨¶‡¨æ‡¨∞‡≠ç‡¨•‡¨∞ ‡¨¨‡¨ø‡¨≠‡¨ø‡¨®‡≠ç‡¨® ‡¨™‡≠ç‡¨∞‡¨ï‡¨æ‡¨∞ ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨ú‡¨æ‡¨£‡¨ø‡¨¨‡¨æ!",
        "‡¨ò‡¨® ‡¨™‡¨¶‡¨æ‡¨∞‡≠ç‡¨•‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨Æ‡≠Å‡¨ñ‡≠ç‡≠ü ‡¨™‡≠ç‡¨∞‡¨ï‡¨æ‡¨∞‡¨∞‡≠á ‡¨¨‡¨ø‡¨≠‡¨ï‡≠ç‡¨§: ‡¨ï‡≠ç‡¨∞‡¨ø‡¨∏‡≠ç‡¨ü‡¨æ‡¨≤‡¨ø‡¨®‡≠ç ‡¨è‡¨¨‡¨Ç ‡¨Ü‡¨Æ‡¨∞‡≠ç‡¨´‡¨∏‡≠ç‡•§",
        "‡¨ï‡≠ç‡¨∞‡¨ø‡¨∏‡≠ç‡¨ü‡¨æ‡¨≤‡¨ø‡¨®‡≠ç ‡¨ò‡¨® ‡¨™‡¨¶‡¨æ‡¨∞‡≠ç‡¨•‡¨∞‡≠á ‡¨ï‡¨£‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨Ö‡¨§‡≠ç‡≠ü‡¨ß‡¨ø‡¨ï ‡¨ï‡≠ç‡¨∞‡¨Æ‡¨æ‡¨®‡≠Å‡¨∏‡¨æ‡¨∞‡≠á ‡¨∏‡¨ú‡≠ç‡¨ú‡¨ø‡¨§ ‡¨π‡≠ã‡¨á‡¨•‡¨æ‡¨è‡•§",
        "‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨è‡¨ï ‡¨®‡¨ø‡¨∞‡≠ç‡¨¶‡≠ç‡¨¶‡¨ø‡¨∑‡≠ç‡¨ü ‡¨ó‡¨≤‡¨® ‡¨¨‡¨ø‡¨®‡≠ç‡¨¶‡≠Å ‡¨Ö‡¨õ‡¨ø ‡¨è‡¨¨‡¨Ç ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡≠á ‡¨Ü‡¨®‡¨æ‡¨á‡¨∏‡≠ã‡¨ü‡≠ç‡¨∞‡≠ã‡¨™‡¨ø‡¨ï‡≠ç ‡¨™‡≠ç‡¨∞‡¨ï‡≠É‡¨§‡¨ø‡¨∞‡•§",
        "‡¨Ü‡¨Æ‡¨∞‡≠ç‡¨´‡¨∏‡≠ç ‡¨ò‡¨® ‡¨™‡¨¶‡¨æ‡¨∞‡≠ç‡¨•‡¨∞‡≠á ‡¨ï‡¨£‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨Ö‡¨¨‡≠ç‡≠ü‡¨¨‡¨∏‡≠ç‡¨•‡¨ø‡¨§ ‡¨≠‡¨æ‡¨¨‡¨∞‡≠á ‡¨∏‡¨ú‡≠ç‡¨ú‡¨ø‡¨§ ‡¨π‡≠ã‡¨á‡¨•‡¨æ‡¨è‡•§",
        "‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨®‡¨ø‡¨∞‡≠ç‡¨¶‡≠ç‡¨¶‡¨ø‡¨∑‡≠ç‡¨ü ‡¨ó‡¨≤‡¨® ‡¨¨‡¨ø‡¨®‡≠ç‡¨¶‡≠Å ‡¨®‡¨æ‡¨π‡¨ø‡¨Å ‡¨è‡¨¨‡¨Ç ‡¨∏‡≠á‡¨Æ‡¨æ‡¨®‡≠á ‡¨Ü‡¨á‡¨∏‡≠ã‡¨ü‡≠ç‡¨∞‡≠ã‡¨™‡¨ø‡¨ï‡≠ç ‡¨™‡≠ç‡¨∞‡¨ï‡≠É‡¨§‡¨ø‡¨∞‡•§"
      ]
    };

    const voicesMap = { en: "en-IN", hi: "hi-IN", ta: "ta-IN", te: "te-IN", or: "or-IN" };

    function speak(text, lang, callback) {
      if (paused) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = voicesMap[lang] || "en-IN";
      utterance.rate = 0.95;
      utterance.onend = () => { if (!paused) callback(); };
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utterance);
    }

    function runStep() {
      if (currentStepIndex >= captions[currentLang].length) {
        replayBtn.style.display = "inline-block";
        return;
      }
      caption.textContent = captions[currentLang][currentStepIndex];

      if (currentStepIndex === 1) {
        gsap.to("#crystalline", {duration: 1, scale: 1.05, yoyo: true, repeat: 1});
        gsap.to("#amorphous", {duration: 1, scale: 1.05, yoyo: true, repeat: 1, delay: 0.5});
      }
      if (currentStepIndex === 2) {
        gsap.to("#crystalline", {duration: 1, scale: 1.2, yoyo: true, repeat: 1});
        gsap.to(".particle", {duration: 0.8, fill: "#1565C0", repeat: 1, yoyo: true});
      }
      if (currentStepIndex === 3) {
        gsap.to("#crystalline", {duration: 1, y: -10, yoyo: true, repeat: 1});
      }
      if (currentStepIndex === 4) {
        gsap.to("#amorphous", {duration: 1, scale: 1.2, yoyo: true, repeat: 1});
        gsap.to(".amorphous-particle", {duration: 0.8, fill: "#D32F2F", repeat: 1, yoyo: true});
      }
      if (currentStepIndex === 5) {
        gsap.to("#amorphous", {duration: 1, y: -10, yoyo: true, repeat: 1});
      }

      speak(captions[currentLang][currentStepIndex], currentLang, () => {
        currentStepIndex++;
        if (!paused) runStep();
      });
    }

    function playAnimation() {
      replayBtn.style.display = "none";
      paused = false;
      currentStepIndex = 0;
      currentLang = langSelect.value;

      gsap.set("#crystalline", {x: 0, y: 0, scale:1});
      gsap.set("#amorphous", {x: 0, y: 0, scale:1});
      gsap.set(".particle", {fill: "#4D96FF"});
      gsap.set(".amorphous-particle", {fill: "#FF6B6B"});

      runStep();
    }

    pauseBtn.addEventListener("click", () => {
      if (!paused) {
        paused = true;
        window.speechSynthesis.cancel();
        pauseBtn.textContent = "‚ñ∂ Play";
      } else {
        paused = false;
        pauseBtn.textContent = "‚è∏ Pause";
        runStep();
      }
    });

    replayBtn.addEventListener("click", playAnimation);

    langSelect.addEventListener("change", () => {
      currentLang = langSelect.value;
      if (!paused) playAnimation();
      else caption.textContent = captions[currentLang][currentStepIndex] || captions[currentLang][0];
    });

    playAnimation();

    const videoFinishBtn = document.getElementById('videoFinishBtn');
    videoFinishBtn?.addEventListener('click', ()=>{
      try {
        const key = 'aurraa:chapter1:progress';
        const data = JSON.parse(localStorage.getItem(key) || '{}');
        data['crystalline-amorphous'] = true;
        localStorage.setItem(key, JSON.stringify(data));
      } catch(e) { }

      if (window.confetti) {
        confetti({ particleCount: 60, spread: 55, origin: { y: 0.6 } });
      }

      setTimeout(()=> window.location.href = 'game-g6-science-solids.html?open=crystalline-amorphous', 700);
    });
  </script>
</body>
</html>
