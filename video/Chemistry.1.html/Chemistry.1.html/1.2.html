<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Unit Cell & Crystal Lattices</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      background: black;
      position: relative;
    }
    .card {
      background: rgba(0,0,0,0.7);
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(255, 255, 255, 0.3);
      width: 75%;
      max-width: 900px;
      padding: 20px;
      text-align: center;
      color: white;
      z-index: 10;
    }
    svg { width: 100%; height: auto; margin-top: 20px; }
    .caption {
      font-size: 1rem;
      margin-top: 12px;
      background: rgba(255,255,255,0.1);
      padding: 8px 16px;
      border-radius: 10px;
      display: inline-block;
      color: #fff;
    }
    button, select {
      margin: 8px;
      padding: 10px 16px;
      border: none;
      border-radius: 10px;
      font-size: 0.9rem;
      font-weight: bold;
      cursor: pointer;
    }
    #replayBtn { background: #ff7b54; color: #fff; display: none; }
    #pauseBtn { background: #4CAF50; color: #fff; }
    #replayBtn:hover { background: #ff5722; }
    #pauseBtn:hover { background: #2e7d32; }
    select { border: 1px solid #ccc; font-weight: normal; padding: 6px 12px; }
    .solid-title { font-size: 18px; font-weight: bold; fill: #fff; }
    .particle { fill: #4D96FF; }
    .bcc-particle { fill: #FFB74D; }
    .fcc-particle { fill: #4DB6AC; }
    .nav-btn, .finish-btn {
      background: linear-gradient(90deg,#ff7b54,#ff5a9e);
      color: #fff;
      padding: 10px 16px;
      border-radius: 12px;
      border: none;
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
      font-weight: 700;
      cursor: pointer;
    }
    .finish-btn { position: fixed; right: 18px; bottom: 18px; z-index: 1200; }
    /* Particle background animation */
    .star {
      position: absolute;
      border-radius: 50%;
      background: white;
      width: 2px; height: 2px;
      opacity: 0.8;
      animation: twinkle 3s infinite alternate;
    }
    @keyframes twinkle {
      0% {opacity:0.2;}
      50% {opacity:1;}
      100% {opacity:0.2;}
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>Unit Cell & Crystal Lattices</h2>

    <!-- Language selector -->
    <label for="langSelect">üåê Choose Language: </label>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü (Odia)</option>
    </select>

    <svg viewBox="0 0 950 400">
      <!-- Primitive cubic -->
      <g id="primitive">
        <rect x="100" y="100" width="180" height="180" rx="15" fill="#2E3B55"/>
        <text class="solid-title" x="190" y="130" text-anchor="middle">Primitive Cubic</text>
        <circle class="particle" cx="120" cy="120" r="8"/>
        <circle class="particle" cx="260" cy="120" r="8"/>
        <circle class="particle" cx="120" cy="260" r="8"/>
        <circle class="particle" cx="260" cy="260" r="8"/>
      </g>

      <!-- BCC -->
      <g id="bcc">
        <rect x="370" y="100" width="180" height="180" rx="15" fill="#4527A0"/>
        <text class="solid-title" x="460" y="130" text-anchor="middle">Body-Centered Cubic</text>
        <circle class="bcc-particle" cx="390" cy="120" r="8"/>
        <circle class="bcc-particle" cx="510" cy="120" r="8"/>
        <circle class="bcc-particle" cx="390" cy="260" r="8"/>
        <circle class="bcc-particle" cx="510" cy="260" r="8"/>
        <circle class="bcc-particle" cx="450" cy="190" r="8"/> <!-- center -->
      </g>

      <!-- FCC -->
      <g id="fcc">
        <rect x="640" y="100" width="180" height="180" rx="15" fill="#00695C"/>
        <text class="solid-title" x="730" y="130" text-anchor="middle">Face-Centered Cubic</text>
        <circle class="fcc-particle" cx="660" cy="120" r="8"/>
        <circle class="fcc-particle" cx="780" cy="120" r="8"/>
        <circle class="fcc-particle" cx="660" cy="260" r="8"/>
        <circle class="fcc-particle" cx="780" cy="260" r="8"/>
        <circle class="fcc-particle" cx="720" cy="120" r="8"/> <!-- face -->
        <circle class="fcc-particle" cx="720" cy="260" r="8"/>
        <circle class="fcc-particle" cx="660" cy="190" r="8"/>
        <circle class="fcc-particle" cx="780" cy="190" r="8"/>
        <circle class="fcc-particle" cx="720" cy="190" r="8"/> <!-- center face -->
      </g>
    </svg>

    <div id="caption" class="caption">Let's explore Unit Cells and Crystal Lattices!</div>
    <br>
    <button id="pauseBtn">‚è∏ Pause</button>
    <button id="replayBtn">üîÑ Replay</button>
    <button id="videoFinishBtn" class="nav-btn finish-btn">Finish</button>
  </div>

  <script>
    // Generate random star background
    for(let i=0;i<150;i++){
      const star = document.createElement('div');
      star.className='star';
      star.style.top = Math.random()*100+'%';
      star.style.left = Math.random()*100+'%';
      star.style.width = star.style.height = Math.random()*2 + 1 + 'px';
      document.body.appendChild(star);
    }

    const caption = document.getElementById("caption");
    const replayBtn = document.getElementById("replayBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const langSelect = document.getElementById("langSelect");

    let paused = false;
    let currentStepIndex = 0;
    let currentLang = "en";

    const captions = {
      en: [
        "Let's dive deep into Unit Cells and Crystal Lattices! We'll explore the structures that form the backbone of all crystalline solids.",
        "A Primitive Cubic unit cell has lattice points located only at the corners of the cube. Each corner particle is shared among eight adjacent cubes.",
        "In a Body-Centered Cubic, in addition to the corner particles, there is a single particle positioned at the exact center of the cube, making it more tightly packed.",
        "Face-Centered Cubic lattices are highly dense. They have particles at each corner and at the center of each face, creating one of the most efficient packing arrangements."
      ],
      hi: [
        "‡§Ü‡§á‡§è ‡§Ø‡•Ç‡§®‡§ø‡§ü ‡§∏‡•á‡§≤ ‡§î‡§∞ ‡§ï‡•ç‡§∞‡§ø‡§∏‡•ç‡§ü‡§≤ ‡§≤‡•à‡§ü‡§ø‡§∏ ‡§ï‡•ã ‡§ó‡§π‡§∞‡§æ‡§à ‡§∏‡•á ‡§∏‡§Æ‡§ù‡•á‡§Ç! ‡§π‡§Æ ‡§â‡§® ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á ‡§ú‡•ã ‡§∏‡§≠‡•Ä ‡§ï‡•ç‡§∞‡§ø‡§∏‡•ç‡§ü‡§≤‡•Ä‡§Ø ‡§†‡•ã‡§∏ ‡§ï‡§æ ‡§Ü‡§ß‡§æ‡§∞ ‡§¨‡§®‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",
        "‡§™‡•ç‡§∞‡§ø‡§Æ‡§ø‡§ü‡§ø‡§µ ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§ø‡§ï ‡§Ø‡•Ç‡§®‡§ø‡§ü ‡§∏‡•á‡§≤ ‡§Æ‡•á‡§Ç ‡§ï‡§£ ‡§ï‡•á‡§µ‡§≤ ‡§ï‡•ç‡§Ø‡•Ç‡§¨ ‡§ï‡•á ‡§ï‡•ã‡§®‡•ã‡§Ç ‡§™‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§ï‡•ã‡§®‡§æ ‡§Ü‡§† ‡§Ü‡§∏-‡§™‡§æ‡§∏ ‡§ï‡•á ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§",
        "‡§¨‡•â‡§°‡•Ä-‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§ø‡§ï ‡§Æ‡•á‡§Ç, ‡§ï‡•ã‡§®‡•ã‡§Ç ‡§ï‡•á ‡§ï‡§£‡•ã‡§Ç ‡§ï‡•á ‡§Ö‡§≤‡§æ‡§µ‡§æ, ‡§ï‡•ç‡§Ø‡•Ç‡§¨ ‡§ï‡•á ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§ï‡§£ ‡§π‡•ã‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§Ø‡§π ‡§Ö‡§ß‡§ø‡§ï ‡§ò‡§®‡§ø‡§∑‡•ç‡§† ‡§¨‡§® ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§",
        "‡§´‡•á‡§∏-‡§∏‡•á‡§Ç‡§ü‡§∞ ‡§ï‡•ç‡§Ø‡•Ç‡§¨‡§ø‡§ï ‡§≤‡•à‡§ü‡§ø‡§∏ ‡§¨‡§π‡•Å‡§§ ‡§ò‡§®‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§ï‡•ã‡§®‡•á ‡§î‡§∞ ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§ö‡•á‡§π‡§∞‡•á ‡§ï‡•á ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§Æ‡•á‡§Ç ‡§ï‡§£ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§∏‡§¨‡§∏‡•á ‡§ï‡•Å‡§∂‡§≤ ‡§™‡•à‡§ï‡§ø‡§Ç‡§ó ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ ‡§¨‡§®‡§§‡•Ä ‡§π‡•à‡•§"
      ],
      ta: [
        "‡ÆØ‡ØÇ‡Æ©‡Æø‡Æü‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æï‡Æø‡Æ∞‡Æø‡Æ∏‡Øç‡Æü‡Æ≤‡Øç ‡Æ≤‡Ææ‡Æü‡Øç‡Æü‡ØÄ‡Æ∏‡Øç‡Æï‡Æ≥‡Øà ‡ÆÜ‡Æ¥‡ÆÆ‡Ææ‡Æï ‡Æ™‡ØÅ‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Øä‡Æ≥‡Øç‡Æµ‡Øã‡ÆÆ‡Øç! ‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æ™‡Æü‡Æø‡Æï ‡Æ§‡Æø‡Æ£‡Øç‡ÆÆ‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡ÆÖ‡Æü‡Æø‡Æ™‡Øç‡Æ™‡Æü‡Øà ‡ÆÖ‡ÆÆ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øà ‡Æ®‡Ææ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æ∞‡Ææ‡ÆØ‡Æ™‡Øç‡Æ™‡Øã‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç.",
        "‡Æ™‡Æø‡Æ∞‡Æø‡ÆÆ‡Æø‡Æü‡Æø‡Æµ‡Øç ‡Æï‡Æø‡ÆØ‡ØÇ‡Æ™‡Øç ‡ÆØ‡ØÇ‡Æ©‡Æø‡Æü‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æø‡ÆØ‡ØÇ‡Æ™‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡ÆÆ‡ØÇ‡Æ≤‡Øà‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡ÆÆ‡Æü‡Øç‡Æü‡ØÅ‡ÆÆ‡Øá ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ©. ‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡ÆÆ‡ØÇ‡Æ≤‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æé‡Æü‡Øç‡Æü‡ØÅ ‡ÆÖ‡Æ£‡Øç‡Æü‡Øà ‡Æï‡Æø‡ÆØ‡ØÇ‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡ØÅ‡Æü‡Æ©‡Øç ‡Æ™‡Æï‡Æø‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÅ ‡Æï‡Øä‡Æ≥‡Øç‡Æ≥‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ.",
        "‡Æ™‡Ææ‡Æü‡Æø-‡Æö‡ØÜ‡Æ©‡Øç‡Æü‡Æ∞‡Øç‡Æü‡Øç ‡Æï‡Æø‡ÆØ‡ØÇ‡Æ™‡Øç‡Æ™‡Æø‡Æ≤‡Øç, ‡ÆÆ‡ØÇ‡Æ≤‡Øà ‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç‡Æï‡Æ≥‡ØÅ‡Æü‡Æ©‡Øç ‡Æö‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÅ, ‡Æï‡Æø‡ÆØ‡ØÇ‡Æ™‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡ÆÆ‡Øà‡ÆØ‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æí‡Æ∞‡ØÅ ‡Æ§‡Æ©‡Æø ‡Æ§‡ØÅ‡Æï‡Øç‡Æï‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ, ‡Æá‡Æ§‡ØÅ ‡ÆÖ‡Æ§‡Øà ‡ÆÖ‡Æ§‡Æø‡Æï‡ÆÆ‡Ææ‡Æï ‡ÆÖ‡Æü‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æø‡ÆØ‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ.",
        "‡Æ™‡Øá‡Æ∏‡Øç-‡Æö‡ØÜ‡Æ©‡Øç‡Æü‡Æ∞‡Øç‡Æü‡Øç ‡Æï‡Æø‡ÆØ‡ØÇ‡Æ™‡Øç ‡Æ≤‡Ææ‡Æü‡Øç‡Æü‡ØÄ‡Æö‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æø‡Æï ‡ÆÖ‡Æ§‡Æø‡Æï ‡ÆÖ‡Æü‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æø ‡Æï‡Øä‡Æ£‡Øç‡Æü‡Æµ‡Øà. ‡Æá‡Æ§‡Æø‡Æ≤‡Øç ‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡ÆÆ‡ØÇ‡Æ≤‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡ÆÆ‡ØÅ‡Æï ‡ÆÆ‡Øà‡ÆØ‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç‡Æï‡Æ≥‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ©, ‡ÆÆ‡Æø‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Æø‡Æ±‡ÆÆ‡Øà‡ÆØ‡Ææ‡Æ© ‡Æ§‡Øä‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ ‡ÆÖ‡ÆÆ‡Øà‡Æ™‡Øç‡Æ™‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ."
      ],
      te: [
        "‡∞Ø‡±Ç‡∞®‡∞ø‡∞ü‡±ç ‡∞∏‡±Ü‡∞≤‡±ç & ‡∞ï‡±ç‡∞∞‡∞ø‡∞∏‡±ç‡∞ü‡∞≤‡±ç ‡∞≤‡∞æ‡∞ü‡∞ø‡∞∏‡±ç ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞≤‡±ã‡∞§‡±Å‡∞ó‡∞æ ‡∞§‡±Ü‡∞≤‡±Å‡∞∏‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç! ‡∞á‡∞µ‡∞ø ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡±ç‡∞´‡∞ü‡∞ø‡∞ï ‡∞ò‡∞®‡∞æ‡∞≤ ‡∞Æ‡±Ç‡∞≤‡∞Æ‡±à‡∞® ‡∞®‡∞ø‡∞∞‡±ç‡∞Æ‡∞æ‡∞£‡∞æ‡∞≤‡∞®‡±Å ‡∞ö‡±Ç‡∞™‡∞ø‡∞∏‡±ç‡∞§‡∞æ‡∞Ø‡∞ø.",
        "‡∞™‡±ç‡∞∞‡∞ø‡∞Æ‡∞ø‡∞ü‡∞ø‡∞µ‡±ç ‡∞ï‡±ç‡∞Ø‡±Ç‡∞¨‡±ç ‡∞Ø‡±Ç‡∞®‡∞ø‡∞ü‡±ç ‡∞∏‡±Ü‡∞≤‡±ç‚Äå‡∞≤‡±ã ‡∞ï‡∞£‡∞æ‡∞≤‡±Å ‡∞ï‡±á‡∞µ‡∞≤‡∞Ç ‡∞ï‡±ç‡∞Ø‡±Ç‡∞¨‡±ç ‡∞Æ‡±Ç‡∞≤‡∞≤‡±ç‡∞≤‡±ã‡∞®‡±á ‡∞â‡∞Ç‡∞ü‡∞æ‡∞Ø‡∞ø. ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞Æ‡±Ç‡∞≤‡∞Ç ‡∞é‡∞®‡∞ø‡∞Æ‡∞ø‡∞¶‡∞ø ‡∞∏‡∞∞‡∞ø‡∞π‡∞¶‡±ç‡∞¶‡±Å ‡∞ï‡±ç‡∞Ø‡±Ç‡∞¨‡±ç‚Äå‡∞≤‡∞≤‡±ã ‡∞™‡∞Ç‡∞ö‡∞¨‡∞°‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.",
        "‡∞¨‡∞æ‡∞°‡±Ä-‡∞∏‡±Ü‡∞Ç‡∞ü‡∞∞‡±ç‡∞°‡±ç ‡∞ï‡±ç‡∞Ø‡±Ç‡∞¨‡±ç‚Äå‡∞≤‡±ã, ‡∞Æ‡±Ç‡∞≤ ‡∞ï‡∞£‡∞æ‡∞≤ ‡∞∏‡∞∞‡∞∏‡∞®, ‡∞ï‡±ç‡∞Ø‡±Ç‡∞¨‡±ç ‡∞Æ‡∞ß‡±ç‡∞Ø‡∞≤‡±ã ‡∞í‡∞ï ‡∞ï‡∞£ ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø, ‡∞¶‡±Ä‡∞®‡∞ø ‡∞µ‡∞≤‡±ç‡∞≤ ‡∞ï‡±ç‡∞Ø‡±Ç‡∞¨‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ç‡∞§ ‡∞∏‡∞æ‡∞Ç‡∞¶‡±ç‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø.",
        "‡∞´‡±á‡∞∏‡±ç-‡∞∏‡±Ü‡∞Ç‡∞ü‡∞∞‡±ç‡∞°‡±ç ‡∞ï‡±ç‡∞Ø‡±Ç‡∞¨‡±ç ‡∞≤‡∞æ‡∞ü‡∞ø‡∞∏‡±ç‚Äå‡∞≤‡±Å ‡∞Ö‡∞§‡±ç‡∞Ø‡∞Ç‡∞§ ‡∞∏‡∞æ‡∞Ç‡∞¶‡±ç‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞ü‡∞æ‡∞Ø‡∞ø. ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞Æ‡±Ç‡∞≤ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞´‡±á‡∞∏‡±ç ‡∞Æ‡∞ß‡±ç‡∞Ø‡∞≤‡±ã ‡∞ï‡∞£‡∞≤‡±Å ‡∞â‡∞Ç‡∞ü‡∞æ‡∞Ø‡∞ø, ‡∞á‡∞¶‡∞ø ‡∞Ö‡∞§‡±ç‡∞Ø‡∞Ç‡∞§ ‡∞∏‡∞Æ‡∞∞‡±ç‡∞•‡∞µ‡∞Ç‡∞§‡∞Æ‡±à‡∞® ‡∞™‡±ç‡∞Ø‡∞æ‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç ‡∞è‡∞∞‡±ç‡∞™‡∞æ‡∞ü‡±ç‡∞≤‡∞≤‡±ã ‡∞í‡∞ï‡∞ü‡∞ø‡∞®‡∞ø ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø."
      ],
      or: [
        "‡¨ö‡¨≥‡¨®‡¨æ ‡¨ï‡¨∞‡≠Å‡¨®‡≠ç‡¨§‡≠Å ‡¨è‡¨¨‡¨Ç ‡¨è‡¨ï ‡¨ó‡¨≠‡≠Ä‡¨∞ ‡¨∞‡≠Ç‡¨™‡≠á ‡≠ü‡≠Å‡¨®‡¨ø‡¨ü‡≠ç ‡¨∏‡≠á‡¨≤‡≠ç ‡¨è‡¨¨‡¨Ç ‡¨ï‡≠ç‡¨∞‡¨ø‡¨∑‡≠ç‡¨ü‡¨æ‡¨≤‡≠ç ‡¨≤‡≠ç‡≠ü‡¨æ‡¨ü‡¨ø‡¨∏‡≠ç ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ! ‡¨è‡¨π‡¨ø ‡¨ó‡¨†‡¨®‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨ï‡≠ç‡¨∞‡¨ø‡¨∑‡≠ç‡¨ü‡¨æ‡¨≤‡¨ø‡¨®‡≠ç ‡¨ò‡¨®‡¨∞ ‡¨Æ‡≠Ç‡¨≥ ‡¨≠‡¨ø‡¨§‡¨ø‡•§",
        "‡¨™‡≠ç‡¨∞‡¨ø‡¨Æ‡¨ø‡¨ü‡¨ø‡¨≠‡≠ç ‡¨ï‡≠ç‡≠ü‡≠Å‡¨¨‡¨∞‡≠á ‡¨ï‡≠á‡¨¨‡¨≥ ‡¨ï‡≠ã‡¨£‡¨∞‡≠á ‡¨≤‡¨æ‡¨ü‡¨ø‡¨∏‡≠ç ‡¨™‡¨è‡¨£‡≠ç‡¨ü ‡¨•‡¨æ‡¨è‡•§ ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨ï‡≠ã‡¨£ ‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨Ü‡¨∏‡¨™‡¨æ‡¨∏‡¨∞ ‡¨è‡¨ü‡¨ø ‡¨Ü‡¨†‡¨ü‡¨ø ‡¨ï‡≠ç‡≠ü‡≠Å‡¨¨‡≠ç ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Ö‡¨Ç‡¨∂‡≠Ä‡¨¶‡¨æ‡¨∞ ‡¨π‡≠Å‡¨è‡•§",
        "‡¨¨‡¨°‡¨ø-‡¨∏‡≠á‡¨£‡≠ç‡¨ü‡¨∞‡≠ç ‡¨ï‡≠ç‡≠ü‡≠Å‡¨¨‡¨∞‡≠á ‡¨ï‡≠ã‡¨£‡¨∞‡≠á ‡¨ï‡¨£‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨∏‡¨π‡¨ø‡¨§ ‡¨ï‡≠ç‡≠ü‡≠Å‡¨¨‡¨∞ ‡¨Æ‡¨ß‡≠ç‡≠ü‡¨∞‡≠á ‡¨è‡¨ï ‡¨Ö‡¨§‡¨ø‡¨∞‡¨ø‡¨ï‡≠ç‡¨§ ‡¨™‡¨è‡¨£‡≠ç‡¨ü ‡¨•‡¨æ‡¨è, ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨è‡¨π‡¨æ‡¨ï‡≠Å ‡¨Ö‡¨ß‡¨ø‡¨ï ‡¨∏‡¨Ç‡¨ï‡≠Ä‡¨∞‡≠ç‡¨£‡≠ç‡¨£ ‡¨ï‡¨∞‡≠á‡•§",
        "‡¨´‡≠á‡¨∏‡≠ç-‡¨∏‡≠á‡¨£‡≠ç‡¨ü‡¨∞‡≠ç ‡¨ï‡≠ç‡≠ü‡≠Å‡¨¨‡¨∞‡≠á ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨ï‡≠ã‡¨£ ‡¨è‡¨¨‡¨Ç ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨Æ‡≠Å‡¨π‡¨Å‡¨∞ ‡¨ï‡≠á‡¨®‡≠ç‡¨¶‡≠ç‡¨∞‡¨∞‡≠á ‡¨™‡¨è‡¨£‡≠ç‡¨ü ‡¨•‡¨æ‡¨è, ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨è‡¨ï ‡¨∏‡¨∞‡≠ç‡¨¨‡¨æ‡¨ß‡¨ø‡¨ï ‡¨ï‡≠ç‡¨∑‡¨Æ‡¨§‡¨æ‡¨∂‡≠Ä‡¨≥ ‡¨™‡≠ç‡≠ü‡¨æ‡¨ï‡¨ø‡¨Ç ‡¨¨‡≠ç‡≠ü‡¨¨‡¨∏‡≠ç‡¨•‡¨æ ‡¨§‡¨ø‡¨Ü‡¨∞‡¨ø ‡¨ï‡¨∞‡≠á‡•§"
      ]
    };

    const voicesMap = { en: "en-IN", hi: "hi-IN", ta: "ta-IN", te: "te-IN", or: "or-IN" };

    function speak(text, lang, callback) {
      if (paused) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = voicesMap[lang] || "en-IN";
      utterance.rate = 0.95;
      utterance.onend = () => { if (!paused) callback(); };
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utterance);
    }

    function runStep() {
      if (currentStepIndex >= captions[currentLang].length) {
        replayBtn.style.display = "inline-block";
        return;
      }
      caption.textContent = captions[currentLang][currentStepIndex];

      // Example animations per step
      if (currentStepIndex === 1) gsap.to("#primitive", {duration: 1, scale:1.1, yoyo:true, repeat:1});
      if (currentStepIndex === 2) gsap.to("#bcc", {duration: 1, scale:1.1, yoyo:true, repeat:1});
      if (currentStepIndex === 3) gsap.to("#fcc", {duration: 1, scale:1.1, yoyo:true, repeat:1});

      speak(captions[currentLang][currentStepIndex], currentLang, () => {
        currentStepIndex++;
        if (!paused) runStep();
      });
    }

    function playAnimation() {
      replayBtn.style.display = "none";
      paused = false;
      currentStepIndex = 0;
      currentLang = langSelect.value;

      gsap.set(["#primitive","#bcc","#fcc"], {x:0, y:0, scale:1});
      gsap.set([".particle",".bcc-particle",".fcc-particle"], {fill:"#4D96FF"});

      runStep();
    }

    pauseBtn.addEventListener("click", ()=>{
      paused = !paused;
      if(paused){ window.speechSynthesis.cancel(); pauseBtn.textContent="‚ñ∂ Play"; }
      else { pauseBtn.textContent="‚è∏ Pause"; runStep(); }
    });
    replayBtn.addEventListener("click", playAnimation);
    langSelect.addEventListener("change", ()=>{
      currentLang = langSelect.value;
      if(!paused) playAnimation();
      else caption.textContent = captions[currentLang][currentStepIndex] || captions[currentLang][0];
    });

    playAnimation();

    // Finish button
    document.getElementById('videoFinishBtn')?.addEventListener('click', ()=>{
      try {
        const key = 'aurraa:chapter1:progress';
        const data = JSON.parse(localStorage.getItem(key) || '{}');
        data['unit-cell-lattices'] = true;
        localStorage.setItem(key, JSON.stringify(data));
      } catch(e){}
      if(window.confetti) confetti({particleCount:60,spread:55,origin:{y:0.6}});
      setTimeout(()=> window.location.href='game-g6-science-solids.html?open=unit-cell-lattices',700);
    });
  </script>
</body>
</html>
