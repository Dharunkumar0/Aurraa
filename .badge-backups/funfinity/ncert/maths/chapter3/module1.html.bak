<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Factors & Multiples Animation</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
body {
  margin:0; font-family:Poppins,sans-serif;
  background: linear-gradient(135deg,#f0f4f7,#d9e2ec);
  display:flex; justify-content:center; align-items:flex-start;
  min-height:100vh; padding:20px;
}
.card {
  background:rgba(255,255,255,0.95); border-radius:16px;
  box-shadow:0 10px 25px rgba(0,0,0,0.15);
  width:90%; max-width:900px; padding:20px; text-align:center;
}
h2 { margin:0; font-size:24px; }
h3 { margin:5px 0 15px 0; font-size:18px; color:#555; }
svg { width:100%; height:auto; margin-top:20px; }
.numText { font-weight:bold; font-size:20px; fill:#111; }
.highlight { stroke:gold; stroke-width:4px; }
.line { stroke:#222; stroke-width:2; }
.tick { stroke:#222; stroke-width:1; }
.factor { fill:#3498db; font-size:14px; font-weight:bold; }
.multiple { fill:#27ae60; font-size:14px; font-weight:bold; }
.caption { margin-top:12px; padding:8px 12px; background:#eef; border-radius:10px; display:inline-block; }
button, select { margin:8px; padding:8px 14px; border:none; border-radius:8px; cursor:pointer; font-weight:600; }
#pauseBtn { background:#4CAF50; color:#fff; }
#replayBtn { background:#FF6B6B; color:#fff; display:none; }
select { border:1px solid #ccc; }
</style>
</head>
<body>
<div class="card">
<h2>Factors & Multiples</h2>
<h3>Animated Number Line Visualization</h3>

<label>ЁЯМР Language:</label>
<select id="langSelect">
  <option value="en">English</option>
  <option value="hi">рд╣рд┐рдиреНрджреА</option>
  <option value="ta">родрооро┐ро┤рпН</option>
  <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
  <option value="or">рмУрмбрм╝рм┐рмЖ</option>
</select>
<br>

<svg viewBox="0 0 900 300" id="mainSvg">
  <!-- Number Cards -->
  <g id="card1"><rect x="50" y="10" width="100" height="50" rx="12" fill="#FFD93D"/><text x="100" y="40" text-anchor="middle" class="numText">12</text></g>
  <g id="card2"><rect x="200" y="10" width="100" height="50" rx="12" fill="#6BCB77"/><text x="250" y="40" text-anchor="middle" class="numText">18</text></g>

  <!-- Number Line -->
  <line x1="30" y1="200" x2="870" y2="200" class="line"/>
</svg>

<div id="caption" class="caption">Welcome! Let's explore factors and multiples step by step.</div>
<br>
<button id="pauseBtn">тП╕ Pause</button>
<button id="replayBtn">ЁЯФД Replay</button>
</div>

<script>
const captions = {
en:[
  "Let's learn factors and multiples using number cards and a number line.",
  "We will first focus on 12 and explore all its factors.",
  "Next, we will focus on 18 and explore its multiples."
],
hi:[
  "рдЖрдЗрдП рд╕рдВрдЦреНрдпрд╛ рдХрд╛рд░реНрдбреНрд╕ рдФрд░ рдирдВрдмрд░ рд▓рд╛рдЗрди рдХреЗ рд╕рд╛рде рдЧреБрдгрдХ рдФрд░ рднрд╛рдЬрдХ рд╕реАрдЦреЗрдВред",
  "рдкрд╣рд▓реЗ 12 рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ рдФрд░ рдЗрд╕рдХреЗ рд╕рднреА рднрд╛рдЬрдХ рджреЗрдЦреЗрдВред",
  "рдлрд┐рд░ 18 рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ рдФрд░ рдЗрд╕рдХреЗ рдЧреБрдгрдХ рджреЗрдЦреЗрдВред"
],
ta:[
  "роОрогрпН роХро╛ро░рпНроЯрпНроХро│рпН рооро▒рпНро▒рпБроорпН роОрогрпН ро╡ро░ро┐роЪрпИ роорпВро▓роорпН роХро╛ро░роХрпНроХро│рпН рооро▒рпНро▒рпБроорпН рокрпЖро░рпБроХрпНроХрпБроХро│рпИ роХро▒рпНро▒рпБроХрпНроХрпКро│рпНро╡рпЛроорпН.",
  "роорпБродро▓ро┐ро▓рпН 12 роР роХро╡ройро┐родрпНродрпБ роЕродройрпБроЯрпИроп роЕройрпИродрпНродрпБ роХро╛ро░роХрпНроХро│рпИропрпБроорпН роХро╛рогрпНрокрпЛроорпН.",
  "рокро┐ройрпНройро░рпН 18 роР роХро╡ройро┐родрпНродрпБ роЕродройрпН рокрпЖро░рпБроХрпНроХрпБроХро│рпИ роХро╛рогрпНрокрпЛроорпН."
],
te:[
  "р░ир░Вр░мр░░р▒Н р░Хр░╛р░░р▒Нр░бр▒Нр░╕р▒Н р░ор░░р░┐р░пр▒Б р░ир░Вр░мр░░р▒Н р░▓р▒Ир░ир▒Н р░др▒Л р░Чр▒Бр░гр░Хр░╛р░▓р▒Б р░ор░░р░┐р░пр▒Б р░нр░╛р░Чр░Хр░╛р░▓р░ир▒Б р░ир▒Зр░░р▒Нр░Ър▒Бр░Хр▒Бр░Вр░жр░╛р░В.",
  "р░ор▒Кр░жр░Я 12 р░кр▒И р░жр▒Гр░╖р▒Нр░Яр░┐ р░кр▒Жр░Яр▒Нр░Яр░┐ р░жр░╛р░ир░┐ р░Ер░ир▒Нр░ир░┐ р░нр░╛р░Чр░Хр░╛р░▓р░ир▒Б р░Ър▒Вр░кр▒Бр░жр░╛р░В.",
  "р░др░░р▒Нр░╡р░╛р░д 18 р░кр▒И р░жр▒Гр░╖р▒Нр░Яр░┐ р░кр▒Жр░Яр▒Нр░Яр░┐ р░жр░╛р░ир░┐ р░Чр▒Бр░гр░Хр░╛р░▓р░ир▒Б р░Ър▒Вр░кр▒Бр░жр░╛р░В."
],
or:[
  "рм╕рмВрмЦрнНрнЯрм╛ рмХрм╛рм░рнНрмбрнНрм╕ рмПрммрмВ рмирморнНрммрм░ рм▓рм╛рмЗрмирнН рм╕рм╣рм┐рмд рмЧрнБрмгрмХ рмПрммрмВ рмнрм╛рмЬрмХ рм╢рм┐рмЦрмирнНрмдрнБред",
  "рмкрнНрм░рмерморнЗ 12 рмЙрмкрм░рнЗ рмзрнНрнЯрм╛рми рмжрм┐рмЕрмирнНрмдрнБ рмПрммрмВ рмдрм╛рм╣рм╛рм░ рм╕рморм╕рнНрмд рмнрм╛рмЬрмХ рмжрнЗрмЦрмирнНрмдрнБред",
  "рмкрм░рммрм░рнНрмдрнНрмдрнА 18 рмЙрмкрм░рнЗ рмзрнНрнЯрм╛рми рмжрм┐рмЕрмирнНрмдрнБ рмПрммрмВ рмдрм╛рм╣рм╛рм░ рмЧрнБрмгрмХ рмжрнЗрмЦрмирнНрмдрнБред"
]
};

const voicesMap={en:"en-IN",hi:"hi-IN",ta:"ta-IN",te:"te-IN",or:"or-IN"};
const svg=document.getElementById("mainSvg");
const captionEl=document.getElementById("caption");
const pauseBtn=document.getElementById("pauseBtn");
const replayBtn=document.getElementById("replayBtn");
const langSel=document.getElementById("langSelect");

let paused=false,currentStep=0;

// Numbers for animation
const num1=12; // Show factors
const num2=18; // Show multiples
const factors=[1,2,3,4,6,12];
const multiples=[18,36,54];

// Draw number line ticks
function drawNumberLine(){
  const lineLength=840,startX=30;
  for(let i=0;i<=60;i+=1){
    const tick=document.createElementNS("http://www.w3.org/2000/svg","line");
    tick.setAttribute("x1",startX+i*14);
    tick.setAttribute("y1",200);
    tick.setAttribute("x2",startX+i*14);
    tick.setAttribute("y2",205);
    tick.setAttribute("class","tick");
    svg.appendChild(tick);

    const label=document.createElementNS("http://www.w3.org/2000/svg","text");
    label.setAttribute("x",startX+i*14);
    label.setAttribute("y",220);
    label.setAttribute("text-anchor","middle");
    label.setAttribute("class","numText");
    label.textContent=i;
    svg.appendChild(label);
  }
}
drawNumberLine();

// Speak function
function speak(text, callback){
  if(paused) return;
  const u=new SpeechSynthesisUtterance(text);
  u.lang=voicesMap[langSel.value];
  u.rate=0.9;
  u.onend=()=>{if(!paused) callback();}
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(u);
}

// Highlight number cards and number line
function highlightNumberCard(cardId){
  gsap.to("#"+cardId+" rect",{stroke:"gold",strokeWidth:4});
}

// Highlight number on number line
function highlightNumberLine(num,color="red"){
  const x=30+num*14;
  const circle=document.createElementNS("http://www.w3.org/2000/svg","circle");
  circle.setAttribute("cx",x);
  circle.setAttribute("cy",200);
  circle.setAttribute("r",10);
  circle.setAttribute("fill",color);
  svg.appendChild(circle);
}

// Main animation sequence
function runAnimation(){
  replayBtn.style.display="none";
  paused=false;
  currentStep=0;

  // Reset highlights
  ["card1","card2"].forEach(id=>gsap.set("#"+id+" rect",{stroke:"none"}));
  // Remove previous highlights
  Array.from(svg.querySelectorAll("circle")).forEach(c=>c.remove());

  function nextStep(){
    if(currentStep>=3){
      replayBtn.style.display="inline-block";
      return;
    }
    captionEl.textContent=captions[langSel.value][currentStep];

    if(currentStep===0){
      speak(captions[langSel.value][0],()=>{
        currentStep++;
        nextStep();
      });
    } else if(currentStep===1){
      highlightNumberCard("card1");
      // Read factors one by one
      function readFactor(i){
        if(i>=factors.length){
          currentStep++;
          nextStep();
          return;
        }
        captionEl.textContent=`${captions[langSel.value][1]} Factor: ${factors[i]}`;
        highlightNumberLine(factors[i],"blue");
        speak(`${factors[i]}`,()=>readFactor(i+1));
      }
      readFactor(0);
    } else if(currentStep===2){
      highlightNumberCard("card2");
      // Read multiples one by one
      function readMultiple(i){
        if(i>=multiples.length){
          currentStep++;
          nextStep();
          return;
        }
        captionEl.textContent=`${captions[langSel.value][2]} Multiple: ${multiples[i]}`;
        highlightNumberLine(multiples[i],"green");
        speak(`${multiples[i]}`,()=>readMultiple(i+1));
      }
      readMultiple(0);
    }
  }
  nextStep();
}

// Pause/Play
pauseBtn.addEventListener("click",()=>{
  if(!paused){
    paused=true;
    window.speechSynthesis.cancel();
    pauseBtn.textContent="тЦ╢ Play";
  }else{
    paused=false;
    pauseBtn.textContent="тП╕ Pause";
    runAnimation();
  }
});

replayBtn.addEventListener("click",runAnimation);
langSel.addEventListener("change",()=>{runAnimation();});

runAnimation();
</script>
</body>
</html>
