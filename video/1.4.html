<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Estimation & Rounding Off</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background: radial-gradient(circle at center, #0f2027, #203a43, #2c5364);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    color: white;
    position: relative;
  }
  .card {
    position: relative;
    background: rgba(255,255,255,0.95);
    color: #222;
    border-radius: 16px;
    padding: 20px;
    width: 85%;
    max-width: 900px;
    text-align: center;
    z-index: 1;
    box-shadow: 0 10px 25px rgba(0,0,0,0.25);
  }
  h1 { color: #facc15; margin-bottom: 10px; }
  svg { width: 100%; height: auto; margin: 10px 0; }
  .caption {
    margin-top: 15px;
    background: rgba(0,0,0,0.1);
    padding: 8px 16px;
    border-radius: 10px;
    display: inline-block;
    min-height: 40px;
  }
  select, button {
    margin: 8px;
    padding: 8px 14px;
    border-radius: 10px;
    border: none;
    font-weight: bold;
    cursor: pointer;
  }
  button { background: linear-gradient(135deg,#a78bfa,#60a5fa); color:white; }
  select { background:#1e293b; color:white; }
  .rounded, .rule { opacity: 0; font-weight: bold; }
  .rounded { fill: green; font-size: 24px; }
  .rule { fill: blue; font-size: 20px; }
</style>
</head>
<body>
<div class="card">
  <h1>üßÆ Estimation & Rounding Off</h1>

  <label for="langSelect">üåê Language:</label>
  <select id="langSelect">
    <option value="en">English</option>
    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
    <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
    <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
  </select>

  <svg viewBox="0 0 1000 500">
    <g id="example1">
      <rect x="350" y="50" width="250" height="90" rx="15" fill="#FFD93D"/>
      <text x="475" y="110" text-anchor="middle" font-size="28" font-weight="bold">76,543</text>
    </g>
    <text id="round10" class="rounded" x="475" y="200" text-anchor="middle">Nearest 10 ‚Üí 76,540</text>
    <text id="round100" class="rounded" x="475" y="250" text-anchor="middle">Nearest 100 ‚Üí 76,500</text>
    <text id="round1000" class="rounded" x="475" y="300" text-anchor="middle">Nearest 1000 ‚Üí 77,000</text>
    <text id="rule" class="rule" x="500" y="360" text-anchor="middle">Rule: If digit < 5 ‚Üí Round Down | If digit ‚â• 5 ‚Üí Round Up</text>
  </svg>

  <div id="caption" class="caption">Welcome! Let's learn rounding off numbers.</div>
  <br>
  <button id="playBtn">‚ñ∂ Play Animation</button>
  <button id="pauseBtn">‚è∏ Pause</button>
</div>

<script>
const captions = {
  en: [
    "Welcome! Let's learn rounding off numbers.",
    "We start with the number seventy-six thousand five hundred forty-three.",
    "Rounding to the nearest 10: look at ones digit (3). 3 < 5 ‚Üí round down to 76,540.",
    "Rounding to the nearest 100: look at tens digit (4). 4 < 5 ‚Üí round down to 76,500.",
    "Rounding to the nearest 1000: look at hundreds digit (5). 5 ‚â• 5 ‚Üí round up to 77,000.",
    "Rule: If digit < 5 ‚Üí Round Down. If digit ‚â• 5 ‚Üí Round Up."
  ],
  hi: [
    "‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ‡§Ü‡§á‡§è ‡§∞‡§æ‡§â‡§Ç‡§° ‡§ë‡§´‡§º ‡§∏‡•Ä‡§ñ‡§§‡•á ‡§π‡•à‡§Ç‡•§",
    "‡§π‡§Æ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ 76,543 ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§",
    "‡§®‡§ø‡§ï‡§ü‡§§‡§Æ 10 ‡§™‡§∞ ‡§∞‡§æ‡§â‡§Ç‡§°‡§ø‡§Ç‡§ó: ‡§á‡§ï‡§æ‡§à ‡§Ö‡§Ç‡§ï ‡§¶‡•á‡§ñ‡•á‡§Ç (3). 3 < 5 ‚Üí 76,540 ‡§§‡§ï ‡§∞‡§æ‡§â‡§Ç‡§° ‡§ï‡§∞‡•á‡§Ç‡•§",
    "‡§®‡§ø‡§ï‡§ü‡§§‡§Æ 100 ‡§™‡§∞ ‡§∞‡§æ‡§â‡§Ç‡§°‡§ø‡§Ç‡§ó: ‡§¶‡§∏‡§ø‡§Ø‡•ã‡§Ç ‡§Ö‡§Ç‡§ï ‡§¶‡•á‡§ñ‡•á‡§Ç (4). 4 < 5 ‚Üí 76,500 ‡§§‡§ï ‡§∞‡§æ‡§â‡§Ç‡§° ‡§ï‡§∞‡•á‡§Ç‡•§",
    "‡§®‡§ø‡§ï‡§ü‡§§‡§Æ 1000 ‡§™‡§∞ ‡§∞‡§æ‡§â‡§Ç‡§°‡§ø‡§Ç‡§ó: ‡§∏‡•à‡§ï‡§°‡§º‡•ã‡§Ç ‡§Ö‡§Ç‡§ï ‡§¶‡•á‡§ñ‡•á‡§Ç (5). 5 ‚â• 5 ‚Üí 77,000 ‡§§‡§ï ‡§∞‡§æ‡§â‡§Ç‡§° ‡§ï‡§∞‡•á‡§Ç‡•§",
    "‡§®‡§ø‡§Ø‡§Æ: ‡§Ö‡§Ç‡§ï < 5 ‚Üí ‡§®‡•Ä‡§ö‡•á ‡§∞‡§æ‡§â‡§Ç‡§° ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§Ö‡§Ç‡§ï ‚â• 5 ‚Üí ‡§ä‡§™‡§∞ ‡§∞‡§æ‡§â‡§Ç‡§° ‡§ï‡§∞‡•á‡§Ç‡•§"
  ],
  ta: [
    "‡Æµ‡Æ∞‡Æµ‡Øá‡Æ±‡Øç‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç! ‡Æµ‡Æü‡Øç‡Æü‡ÆÆ‡Ææ‡Æï‡Øç‡Æï‡Æ≤‡Øà ‡Æï‡Æ±‡Øç‡Æï‡Æ≤‡Ææ‡ÆÆ‡Øç.",
    "‡Æ®‡Ææ‡ÆÆ‡Øç 76,543 ‡Æé‡Æ£‡Øç‡Æ£‡Æø‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æ§‡Øä‡Æü‡Æô‡Øç‡Æï‡ØÅ‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç.",
    "‡Æö‡ØÇ‡Æ¥‡Æ≤‡Ææ‡Æ© 10‡Æï‡Øç‡Æï‡ØÅ ‡Æµ‡Æü‡Øç‡Æü‡ÆÆ‡Ææ‡Æï‡Øç‡Æï‡Æ≤‡Øç: ‡Æí‡Æ©‡Øç‡Æ±‡ØÅ‡Æï‡Øç ‡Æï‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ ‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç (3). 3 < 5 ‚Üí 76,540.",
    "‡Æö‡ØÇ‡Æ¥‡Æ≤‡Ææ‡Æ© 100‡Æï‡Øç‡Æï‡ØÅ ‡Æµ‡Æü‡Øç‡Æü‡ÆÆ‡Ææ‡Æï‡Øç‡Æï‡Æ≤‡Øç: ‡Æ™‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Øç ‡Æï‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ ‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç (4). 4 < 5 ‚Üí 76,500.",
    "‡Æö‡ØÇ‡Æ¥‡Æ≤‡Ææ‡Æ© 1000‡Æï‡Øç‡Æï‡ØÅ ‡Æµ‡Æü‡Øç‡Æü‡ÆÆ‡Ææ‡Æï‡Øç‡Æï‡Æ≤‡Øç: ‡Æ®‡ØÇ‡Æ±‡Øç‡Æ±‡ØÅ‡Æï‡Øç ‡Æï‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ ‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç (5). 5 ‚â• 5 ‚Üí 77,000.",
    "‡Æ®‡Æø‡ÆØ‡ÆÆ‡ÆÆ‡Øç: 5‡Æï‡Øç‡Æï‡ØÅ ‡Æï‡ØÅ‡Æ±‡Øà‡Æµ‡Ææ‡Æ© ‡Æé‡Æ£‡Øç‡Æ£‡ØÅ‡Æï‡Æ≥‡Øç ‚Üí ‡Æï‡ØÄ‡Æ¥‡Øá ‡Æµ‡Æü‡Øç‡Æü‡ÆÆ‡Ææ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç, ‚â•5 ‚Üí ‡ÆÆ‡Øá‡Æ≤‡Øá ‡Æµ‡Æü‡Øç‡Æü‡ÆÆ‡Ææ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç."
  ],
  te: [
    "‡∞∏‡±ç‡∞µ‡∞æ‡∞ó‡∞§‡∞Ç! ‡∞∞‡±å‡∞Ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç.",
    "‡∞Æ‡∞®‡∞Ç 76,543 ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞æ‡∞Æ‡±Å.",
    "‡∞∏‡∞∞‡∞ø‡∞π‡∞¶‡±ç‡∞¶‡±Å 10‡∞ï‡∞ø ‡∞∞‡±å‡∞Ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç: ‡∞í‡∞ï‡∞≤ ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø (3). 3 < 5 ‚Üí 76,540.",
    "‡∞∏‡∞∞‡∞ø‡∞π‡∞¶‡±ç‡∞¶‡±Å 100‡∞ï‡∞ø ‡∞∞‡±å‡∞Ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç: ‡∞™‡∞¶‡∞ø ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø (4). 4 < 5 ‚Üí 76,500.",
    "‡∞∏‡∞∞‡∞ø‡∞π‡∞¶‡±ç‡∞¶‡±Å 1000‡∞ï‡∞ø ‡∞∞‡±å‡∞Ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç: ‡∞∂‡∞§‡∞ï ‡∞∏‡∞Ç‡∞ñ‡±ç‡∞Ø ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø (5). 5 ‚â• 5 ‚Üí 77,000.",
    "‡∞®‡∞ø‡∞Ø‡∞Æ‡∞Ç: ‡∞Ö‡∞Ç‡∞ï‡±Ü < 5 ‚Üí ‡∞ï‡∞ø‡∞Ç‡∞¶ ‡∞∞‡±å‡∞Ç‡∞°‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø, ‚â•5 ‚Üí ‡∞™‡±à‡∞ï‡∞ø ‡∞∞‡±å‡∞Ç‡∞°‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø."
  ],
  or: [
    "‡¨∏‡≠ç‡≠±‡¨æ‡¨ó‡¨§! ‡¨∞‡¨æ‡¨â‡¨£‡≠ç‡¨° ‡¨Ö‡¨´‡≠ç ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ‡•§",
    "‡¨Ü‡¨Æ‡≠á 76,543 ‡¨∞‡≠Å ‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‡¨ï‡¨∞‡≠Å‡¨õ‡≠Å‡•§",
    "‡¨∏‡¨¨‡≠Å‡¨†‡¨æ‡¨∞‡≠Å ‡¨®‡¨ø‡¨ï‡¨ü‡¨§‡¨Æ 10 ‡¨∞‡≠á ‡¨∞‡¨æ‡¨â‡¨£‡≠ç‡¨°: ‡¨è‡¨ï‡¨ï ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å (3). 3 < 5 ‚Üí 76,540.",
    "‡¨∏‡¨¨‡≠Å‡¨†‡¨æ‡¨∞‡≠Å ‡¨®‡¨ø‡¨ï‡¨ü‡¨§‡¨Æ 100 ‡¨∞‡≠á ‡¨∞‡¨æ‡¨â‡¨£‡≠ç‡¨°: ‡¨¶‡¨∂‡¨ï ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å (4). 4 < 5 ‚Üí 76,500.",
    "‡¨∏‡¨¨‡≠Å‡¨†‡¨æ‡¨∞‡≠Å ‡¨®‡¨ø‡¨ï‡¨ü‡¨§‡¨Æ 1000 ‡¨∞‡≠á ‡¨∞‡¨æ‡¨â‡¨£‡≠ç‡¨°: ‡¨∏‡¨π‡¨∏‡≠ç‡¨∞ ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å (5). 5 ‚â• 5 ‚Üí 77,000.",
    "‡¨®‡¨ø‡≠ü‡¨Æ: ‡¨Ö‡¨ô‡≠ç‡¨ï < 5 ‚Üí ‡¨§‡¨≥‡¨ï‡≠Å ‡¨∞‡¨æ‡¨â‡¨£‡≠ç‡¨° ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å | ‡¨Ö‡¨ô‡≠ç‡¨ï ‚â• 5 ‚Üí ‡¨â‡¨™‡¨∞‡¨ï‡≠Å ‡¨∞‡¨æ‡¨â‡¨£‡≠ç‡¨° ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å‡•§"
  ]
};

const voicesMap = { en: "en-IN", hi: "hi-IN", ta: "ta-IN", te: "te-IN", or: "or-IN" };

let currentStep = 0;
let paused = false;

const captionEl = document.getElementById("caption");
const playBtn = document.getElementById("playBtn");
const pauseBtn = document.getElementById("pauseBtn");
const langSelect = document.getElementById("langSelect");

function speak(text, lang, callback){
  if(paused) return;
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = voicesMap[lang];
  utter.rate = 0.95;
  utter.onend = callback;
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(utter);
}

function showStep(){
  const lang = langSelect.value;
  if(currentStep >= captions[lang].length) return;
  captionEl.textContent = captions[lang][currentStep];

  // Show animation for step
  if(currentStep === 2) gsap.to("#round10",{opacity:1,duration:1,y:-10});
  if(currentStep === 3) gsap.to("#round100",{opacity:1,duration:1,y:-10});
  if(currentStep === 4) gsap.to("#round1000",{opacity:1,duration:1,y:-10});
  if(currentStep === 5) gsap.to("#rule",{opacity:1,duration:1});

  speak(captions[lang][currentStep], lang, ()=>{
    if(!paused){
      currentStep++;
      showStep();
    }
  });
}

playBtn.addEventListener("click", ()=>{
  paused = false;
  currentStep = 0;
  gsap.set(["#round10","#round100","#round1000","#rule"],{opacity:0,y:0});
  showStep();
});

pauseBtn.addEventListener("click", ()=>{
  paused = !paused;
  if(paused){
    window.speechSynthesis.cancel();
    pauseBtn.textContent = "‚ñ∂ Resume";
  } else {
    pauseBtn.textContent = "‚è∏ Pause";
    showStep();
  }
});
</script>
</body>
</html>
