<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inverse of a Function</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  height: 100vh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background: radial-gradient(circle at center, #0b0b1f 0%, #1e1e40 60%, #0b0b1f 100%);
  color: #fff;
  position: relative;
}

/* Floating math symbols */
.math-symbol {
  position: absolute;
  font-size: 16px;
  color: rgba(255,255,255,0.3);
  font-weight: bold;
  pointer-events: none;
  user-select: none;
}

/* Card container */
.card {
  background: rgba(0,0,0,0.7);
  border-radius: 16px;
  padding: 20px;
  width: 90%;
  max-width: 1000px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.8);
  position: relative;
  z-index: 2;
}

/* SVG styling */
svg { width: 100%; height: 400px; margin-top: 20px; }
.node {
  fill: #fff;
  stroke: #fff;
  stroke-width: 2;
  font-weight: bold;
  text-anchor: middle;
  dominant-baseline: middle;
  opacity:1;
}
.edge {
  stroke: #FFD700;
  stroke-width: 2;
  fill: none;
  opacity:0;
}
.inverse-edge {
  stroke: #4D96FF;
  stroke-width: 2;
  fill: none;
  opacity:0;
}
.caption {
  font-size: 1rem;
  margin-top: 12px;
  background: rgba(0,0,0,0.4);
  padding: 10px 16px;
  border-radius: 10px;
  display: inline-block;
}

/* Buttons */
button, select {
  margin: 8px;
  padding: 10px 16px;
  border: none;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: bold;
  cursor: pointer;
}
#pauseBtn { background: #4CAF50; color: #fff; }
#replayBtn { background: #ff7b54; color: #fff; display: none; }
#pauseBtn:hover { background: #2e7d32; }
#replayBtn:hover { background: #ff5722; }
select { border: 1px solid #ccc; font-weight: normal; padding: 6px 12px; }
</style>
</head>
<body>

<div class="card">
  <h2>Inverse of a Function</h2>
  <h3>Step by Step Animation</h3>

  <label for="langSelect">üåê Choose Language: </label>
  <select id="langSelect">
    <option value="en">English</option>
    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
    <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
    <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü (Odia)</option>
  </select>

  <svg viewBox="0 0 950 400">
    <!-- Domain nodes -->
    <text class="node" id="X" x="150" y="100">X</text>
    <text class="node" id="Y" x="150" y="200">Y</text>
    <text class="node" id="Z" x="150" y="300">Z</text>

    <!-- Codomain nodes -->
    <text class="node" id="P" x="750" y="100">P</text>
    <text class="node" id="Q" x="750" y="200">Q</text>
    <text class="node" id="R" x="750" y="300">R</text>

    <!-- Function edges -->
    <line class="edge" id="edge1" x1="150" y1="100" x2="750" y2="100"/>
    <line class="edge" id="edge2" x1="150" y1="200" x2="750" y2="200"/>
    <line class="edge" id="edge3" x1="150" y1="300" x2="750" y2="300"/>

    <!-- Inverse edges -->
    <line class="inverse-edge" id="inv1" x1="150" y1="100" x2="750" y2="100"/>
    <line class="inverse-edge" id="inv2" x1="150" y1="200" x2="750" y2="200"/>
    <line class="inverse-edge" id="inv3" x1="150" y1="300" x2="750" y2="300"/>
  </svg>

  <div id="caption" class="caption">Starting Step by Step...</div>
  <br>
  <button id="pauseBtn">‚è∏ Pause</button>
  <button id="replayBtn">üîÑ Replay</button>
</div>

<script>
// Floating math symbols
const symbols=["‚àë","‚àè","‚àö","‚àû","‚à´","Œ∏","Œª","Œî","+","-","√ó","√∑","f(x)","x+y=z"];
for(let i=0;i<50;i++){
  const sym=document.createElement("div");
  sym.className="math-symbol";
  sym.textContent=symbols[Math.floor(Math.random()*symbols.length)];
  sym.style.fontSize=(Math.random()*25+12)+"px";
  sym.style.top=Math.random()*window.innerHeight+"px";
  sym.style.left=Math.random()*window.innerWidth+"px";
  sym.style.color=`hsl(${Math.random()*360},80%,70%)`;
  document.body.appendChild(sym);
  gsap.to(sym,{y:"+="+(Math.random()*600+200),repeat:-1,duration:Math.random()*40+20,ease:"linear"});
}

// Captions
const captions={
  en:[
    "Step 1: Mapping X ‚Üí P",
    "Step 2: Mapping Y ‚Üí Q",
    "Step 3: Mapping Z ‚Üí R",
    "Inverse Function: Reverse mapping P ‚Üí X, Q ‚Üí Y, R ‚Üí Z",
    "Verify: Inverse maps codomain back to domain correctly"
  ],
  hi:[
    "‡§ö‡§∞‡§£ 1: X ‚Üí P ‡§Æ‡•à‡§™‡§ø‡§Ç‡§ó",
    "‡§ö‡§∞‡§£ 2: Y ‚Üí Q ‡§Æ‡•à‡§™‡§ø‡§Ç‡§ó",
    "‡§ö‡§∞‡§£ 3: Z ‚Üí R ‡§Æ‡•à‡§™‡§ø‡§Ç‡§ó",
    "‡§µ‡§ø‡§™‡§∞‡•Ä‡§§ ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§®: P ‚Üí X, Q ‚Üí Y, R ‚Üí Z ‡§ï‡•ã ‡§∞‡§ø‡§µ‡§∞‡•ç‡§∏ ‡§Æ‡•à‡§™‡§ø‡§Ç‡§ó ‡§ï‡§∞‡•á‡§Ç",
    "‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç: ‡§µ‡§ø‡§™‡§∞‡•Ä‡§§ ‡§ï‡•ã‡§°‡•ã‡§Æ‡•á‡§® ‡§ï‡•ã ‡§°‡•ã‡§Æ‡•á‡§® ‡§Æ‡•á‡§Ç ‡§∏‡§π‡•Ä ‡§§‡§∞‡•Ä‡§ï‡•á ‡§∏‡•á ‡§Æ‡•à‡§™ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à"
  ],
  ta:[
    "‡Æ™‡Æü‡Æø 1: X ‚Üí P ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç",
    "‡Æ™‡Æü‡Æø 2: Y ‚Üí Q ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç",
    "‡Æ™‡Æü‡Æø 3: Z ‚Üí R ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç",
    "‡ÆÆ‡Æ±‡Øà‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡Æ™‡Ææ‡Æü‡ØÅ: P ‚Üí X, Q ‚Üí Y, R ‚Üí Z ‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡ØÅ ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç",
    "‡Æö‡Æ∞‡Æø‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç: ‡ÆÆ‡Æ±‡Øà‡Æµ‡ØÅ ‡Æï‡Øã‡Æü‡Øä‡ÆÆ‡Øà‡Æ©‡Øà‡Æï‡Øç ‡Æï‡Øä‡Æ£‡Øç‡Æü‡ØÅ ‡Æü‡Øä‡ÆÆ‡Øà‡Æ©‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æö‡Æ∞‡Æø‡ÆØ‡Ææ‡Æï ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ"
  ],
  te:[
    "‡∞¶‡∞∂ 1: X ‚Üí P ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡∞ø‡∞Ç‡∞ó‡±ç",
    "‡∞¶‡∞∂ 2: Y ‚Üí Q ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡∞ø‡∞Ç‡∞ó‡±ç",
    "‡∞¶‡∞∂ 3: Z ‚Üí R ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡∞ø‡∞Ç‡∞ó‡±ç",
    "‡∞á‡∞®‡±ç‡∞µ‡∞∞‡±ç‡∞∏‡±ç ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç: P ‚Üí X, Q ‚Üí Y, R ‚Üí Z ‡∞µ‡±Ü‡∞∞‡±ç‡∞∑‡∞®‡±ç ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡∞ø‡∞Ç‡∞ó‡±ç",
    "‡∞§‡∞™‡±ç‡∞™‡∞ï‡∞æ ‡∞ö‡±Ü‡∞ï‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø: ‡∞á‡∞®‡±ç‡∞µ‡∞∞‡±ç‡∞∏‡±ç ‡∞ï‡±ã‡∞°‡±ä‡∞Æ‡±à‡∞®‡±ç ‡∞®‡±Å ‡∞°‡±ä‡∞Æ‡±à‡∞®‡±ç ‡∞ï‡±Å ‡∞∏‡∞∞‡±à‡∞® ‡∞∞‡±Ä‡∞§‡∞ø‡∞≤‡±ã ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø"
  ],
  or:[
    "‡¨™‡¨¶‡¨ï‡≠ç‡¨∑‡≠á‡¨™ 1: X ‚Üí P ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡¨ø‡¨Ç",
    "‡¨™‡¨¶‡¨ï‡≠ç‡¨∑‡≠á‡¨™ 2: Y ‚Üí Q ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡¨ø‡¨Ç",
    "‡¨™‡¨¶‡¨ï‡≠ç‡¨∑‡≠á‡¨™ 3: Z ‚Üí R ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡¨ø‡¨Ç",
    "‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨´‡¨≥‡¨ø‡¨§ ‡¨´‡¨ô‡≠ç‡¨ï‡¨∏‡¨®‡≠ç: P ‚Üí X, Q ‚Üí Y, R ‚Üí Z ‡¨¨‡¨ø‡¨™‡¨∞‡≠Ä‡¨§ ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡¨ø‡¨Ç",
    "‡¨Ø‡¨æ‡¨û‡≠ç‡¨ö ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å: ‡¨á‡¨®‡¨≠‡¨∞‡≠ç‡¨∏ ‡¨ï‡≠ã‡¨°‡≠ã‡¨Æ‡≠á‡¨®‡≠ç ‡¨°‡≠ã‡¨Æ‡≠á‡¨®‡≠ç ‡¨ï‡≠Å ‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨≠‡¨æ‡¨¨‡≠á ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡≠ç ‡¨ï‡¨∞‡≠á"
  ]
};

const caption=document.getElementById("caption");
const replayBtn=document.getElementById("replayBtn");
const pauseBtn=document.getElementById("pauseBtn");
const langSelect=document.getElementById("langSelect");

let paused=false, currentStepIndex=0, currentLang="en";
const voicesMap={en:"en-IN", hi:"hi-IN", ta:"ta-IN", te:"te-IN", or:"or-IN"};

function speak(text,lang,callback){
  if(paused) return;
  const u=new SpeechSynthesisUtterance(text);
  u.lang=voicesMap[lang]||"en-IN";
  u.rate=0.95;
  u.onend=()=>{if(!paused)callback();}
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(u);
}

function runStep(){
  if(currentStepIndex>=captions[currentLang].length){replayBtn.style.display="inline-block"; return;}
  caption.textContent=captions[currentLang][currentStepIndex];

  // Animate edges
  if(currentStepIndex===0) gsap.to("#edge1",{opacity:1,duration:1.2});
  if(currentStepIndex===1) gsap.to("#edge2",{opacity:1,duration:1.2});
  if(currentStepIndex===2) gsap.to("#edge3",{opacity:1,duration:1.2});
  if(currentStepIndex===3){
    gsap.to("#inv1",{opacity:1,duration:1});
    gsap.to("#inv2",{opacity:1,duration:1});
    gsap.to("#inv3",{opacity:1,duration:1});
  }

  speak(captions[currentLang][currentStepIndex],currentLang,()=>{
    currentStepIndex++;
    if(!paused) setTimeout(runStep,500);
  });
}

function playAnimation(){
  replayBtn.style.display="none";
  paused=false;
  currentStepIndex=0;
  currentLang=langSelect.value;
  gsap.set(".edge",{opacity:0});
  gsap.set(".inverse-edge",{opacity:0});
  runStep();
}

pauseBtn.addEventListener("click",()=>{
  if(!paused){paused=true;window.speechSynthesis.cancel(); pauseBtn.textContent="‚ñ∂ Play";}
  else{paused=false; pauseBtn.textContent="‚è∏ Pause"; runStep();}
});

replayBtn.addEventListener("click",playAnimation);
langSelect.addEventListener("change",()=>{
  currentLang=langSelect.value;
  if(!paused) playAnimation();
  else caption.textContent=captions[currentLang][currentStepIndex]||captions[currentLang][0];
});

playAnimation();
</script>
</body>
</html>
