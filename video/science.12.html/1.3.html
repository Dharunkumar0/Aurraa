<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Electric Field & Field Lines ‚Äî Animation</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  color: white;
  overflow: hidden;
  text-align: center;
}

.stars {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
}
.star {
  position: absolute;
  background-color: white;
  border-radius: 50%;
  opacity: 0.8;
  animation: twinkle 3s infinite ease-in-out;
}
@keyframes twinkle {
  0%,100% {opacity:0.2;}
  50% {opacity:1;}
}

h2, h3 { margin: 6px 0; }
.card {
  background: rgba(0, 0, 0, 0.6);
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
  max-width: 900px;
  width: 90%;
}
.animationBox {
  position: relative;
  height: 60vh;
  width: 100%;
  margin: 10px auto;
  opacity: 0;
}
svg { width: 100%; height: 100%; }

button, select {
  margin: 6px;
  padding: 10px 16px;
  border: none;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: bold;
  cursor: pointer;
}
#pauseBtn { background: #4CAF50; color: white; }
#replayBtn { background: #ff7b54; color: white; display: none; }
select {
  border: 1px solid white;
  background: rgba(0, 0, 0, 0.3);
  color: white;
  padding: 6px 10px;
}
.caption {
  font-size: 1rem;
  margin-top: 12px;
  padding: 10px 16px;
  border-radius: 10px;
  background: rgba(0,0,0,0.5);
  display: inline-block;
  opacity: 0;
}
</style>
</head>
<body>

<div class="stars" id="stars"></div>

<h2>Electric Field & Field Lines</h2>
<h3>Physics ‚Äî Electrostatics</h3>

<label for="langSelect">üåê Choose Language:</label>
<select id="langSelect">
  <option value="en">English</option>
  <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
  <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
  <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
  <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
</select>

<div class="card">
  <div class="animationBox" id="animBox">
    <svg viewBox="0 0 500 400">
      <!-- Positive charge -->
      <circle cx="250" cy="200" r="15" fill="#ff5252" />
      <!-- Field lines -->
      <line x1="250" y1="200" x2="250" y2="50" stroke="white" stroke-width="2" opacity="0" />
      <line x1="250" y1="200" x2="400" y2="200" stroke="white" stroke-width="2" opacity="0" />
      <line x1="250" y1="200" x2="100" y2="200" stroke="white" stroke-width="2" opacity="0" />
      <line x1="250" y1="200" x2="350" y2="300" stroke="white" stroke-width="2" opacity="0" />
      <line x1="250" y1="200" x2="150" y2="300" stroke="white" stroke-width="2" opacity="0" />
      <!-- Test charge -->
      <circle id="testCharge" cx="250" cy="80" r="8" fill="#00e5ff" opacity="0" />
    </svg>
  </div>

  <div id="caption" class="caption">Electric field is the region around a charge where its influence can be felt.</div>
  <br>
  <button id="pauseBtn">‚è∏ Pause</button>
  <button id="replayBtn">üîÑ Replay</button>
</div>

<script>
/* === Starry background generation === */
const starsContainer = document.getElementById("stars");
for(let i=0;i<60;i++){
  const s=document.createElement("div");
  s.classList.add("star");
  let size=Math.random()*2+1;
  s.style.width=s.style.height=size+"px";
  s.style.left=Math.random()*100+"%";
  s.style.top=Math.random()*100+"%";
  s.style.animationDelay=Math.random()*3+"s";
  starsContainer.appendChild(s);
}

const caption = document.getElementById("caption");
const animBox = document.getElementById("animBox");
const replayBtn = document.getElementById("replayBtn");
const pauseBtn = document.getElementById("pauseBtn");
const langSelect = document.getElementById("langSelect");
const testCharge = document.getElementById("testCharge");

let paused = false, stepIndex = 0, currentLang = "en";

const captions = {
  en: [
    "Electric field is the region around a charge where its influence can be felt.",
    "It is a vector quantity having both magnitude and direction.",
    "Electric field lines represent the direction of force on a positive test charge.",
    "They start from positive charges and go outward to infinity or negative charges.",
    "The density of lines shows the strength of the field.",
    "Field lines never intersect each other.",
    "Placing a positive test charge shows the direction of force at that point.",
    "The charge moves along the field line, visualizing the path of force."
  ],
  hi: [
    "‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§µ‡§π ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§π‡•à ‡§ú‡§π‡§æ‡§Ç ‡§ö‡§æ‡§∞‡•ç‡§ú ‡§ï‡§æ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§",
    "‡§Ø‡§π ‡§è‡§ï ‡§∏‡§¶‡§ø‡§∂ ‡§∞‡§æ‡§∂‡§ø ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§™‡§∞‡§ø‡§Æ‡§æ‡§£ ‡§î‡§∞ ‡§¶‡§ø‡§∂‡§æ ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§",
    "‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§∞‡•á‡§ñ‡§æ‡§è‡§Ç ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ö‡§æ‡§∞‡•ç‡§ú ‡§™‡§∞ ‡§¨‡§≤ ‡§ï‡•Ä ‡§¶‡§ø‡§∂‡§æ ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§∂‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",
    "‡§µ‡•á ‡§ß‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§Ü‡§µ‡•á‡§∂ ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§ï‡§∞ ‡§ã‡§£‡§æ‡§§‡•ç‡§Æ‡§ï ‡§Ü‡§µ‡•á‡§∂ ‡§Ø‡§æ ‡§Ö‡§®‡§Ç‡§§ ‡§§‡§ï ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡§Ç‡•§",
    "‡§∞‡•á‡§ñ‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§∏‡§ò‡§®‡§§‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§ï‡•Ä ‡§§‡•Ä‡§µ‡•ç‡§∞‡§§‡§æ ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§∂‡§æ‡§§‡•Ä ‡§π‡•à‡•§",
    "‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§∞‡•á‡§ñ‡§æ‡§è‡§Ç ‡§ï‡§≠‡•Ä ‡§è‡§ï-‡§¶‡•Ç‡§∏‡§∞‡•á ‡§ï‡•ã ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§æ‡§ü‡§§‡•Ä‡•§",
    "‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ö‡§æ‡§∞‡•ç‡§ú ‡§∞‡§ñ‡§®‡•á ‡§™‡§∞ ‡§¨‡§≤ ‡§ï‡•Ä ‡§¶‡§ø‡§∂‡§æ ‡§ï‡§æ ‡§™‡§§‡§æ ‡§ö‡§≤‡§§‡§æ ‡§π‡•à‡•§",
    "‡§ö‡§æ‡§∞‡•ç‡§ú ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§∞‡•á‡§ñ‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§¨‡§≤ ‡§ï‡•á ‡§Æ‡§æ‡§∞‡•ç‡§ó ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§∏‡§∞‡§£ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§"
  ],
  ta: [
    "‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æø‡ÆØ‡Æ≤‡Øç ‡Æ™‡ØÅ‡Æ≤‡ÆÆ‡Øç ‡Æé‡Æ©‡Øç‡Æ™‡Æ§‡ØÅ ‡Æö‡Ææ‡Æ∞‡Øç‡Æú‡Æø‡Æ©‡Øç ‡Æ§‡Ææ‡Æï‡Øç‡Æï‡ÆÆ‡Øç ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æï‡ØÅ‡Æ§‡Æø.",
    "‡Æá‡Æ§‡ØÅ ‡ÆÖ‡Æ≥‡Æµ‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Æø‡Æö‡Øà ‡Æï‡Øä‡Æ£‡Øç‡Æü ‡Æí‡Æ∞‡ØÅ ‡Æµ‡ØÜ‡Æï‡Øç‡Æü‡Æ∞‡Øç ‡ÆÖ‡Æ≥‡Æµ‡ØÅ.",
    "‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æø‡ÆØ‡Æ≤‡Øç ‡Æ™‡ØÅ‡Æ≤ ‡Æµ‡Æ∞‡Æø‡Æï‡Æ≥‡Øç ‡Æ®‡Øá‡Æ∞‡Øç‡ÆÆ ‡Æö‡Ææ‡Æ∞‡Øç‡Æú‡Æø‡Æ©‡Øç ‡ÆÆ‡ØÄ‡Æ§‡Ææ‡Æ© ‡Æµ‡Æ≤‡ØÅ‡Æµ‡Æø‡Æ©‡Øç ‡Æ§‡Æø‡Æö‡Øà‡ÆØ‡Øà ‡Æï‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ©.",
    "‡ÆÖ‡Æµ‡Øà ‡Æ®‡Øá‡Æ∞‡Øç‡ÆÆ ‡Æö‡Ææ‡Æ∞‡Øç‡Æú‡Æø‡Æ≤‡Øç ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æ§‡Øä‡Æü‡Æô‡Øç‡Æï‡Æø ‡Æé‡Æ§‡Æø‡Æ∞‡Øç‡ÆÆ ‡Æö‡Ææ‡Æ∞‡Øç‡Æú‡Æø‡Æ±‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æµ‡ØÜ‡Æ≥‡Æø‡ÆØ‡Æø‡Æ≤‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ©.",
    "‡Æµ‡Æ∞‡Æø‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡ÆÖ‡Æü‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æø ‡Æ™‡ØÅ‡Æ≤‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æµ‡Æ≤‡Æø‡ÆÆ‡Øà‡ÆØ‡Øà ‡Æï‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ.",
    "‡Æ™‡ØÅ‡Æ≤ ‡Æµ‡Æ∞‡Æø‡Æï‡Æ≥‡Øç ‡Æí‡Æ∞‡ØÅ‡Æ™‡Øã‡Æ§‡ØÅ‡ÆÆ‡Øç ‡Æí‡Æ©‡Øç‡Æ±‡Øà ‡Æí‡Æ©‡Øç‡Æ±‡ØÅ ‡Æï‡Æü‡Æï‡Øç‡Æï‡Ææ‡Æ§‡ØÅ.",
    "‡Æí‡Æ∞‡ØÅ ‡Æ®‡Øá‡Æ∞‡Øç‡ÆÆ ‡Æö‡Øã‡Æ§‡Æ©‡Øà ‡Æö‡Ææ‡Æ∞‡Øç‡Æú‡Øà ‡Æµ‡Øà‡Æ™‡Øç‡Æ™‡Æ§‡ØÅ ‡ÆÖ‡Æ®‡Øç‡Æ§ ‡Æá‡Æü‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥ ‡Æµ‡Æ≤‡ØÅ‡Æµ‡Æø‡Æ©‡Øç ‡Æ§‡Æø‡Æö‡Øà‡ÆØ‡Øà ‡Æï‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ.",
    "‡Æö‡Ææ‡Æ∞‡Øç‡Æú‡Øç ‡Æ™‡ØÅ‡Æ≤ ‡Æµ‡Æ∞‡Æø ‡Æµ‡Æ¥‡Æø‡ÆØ‡Ææ‡Æï ‡Æ®‡Æï‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÅ ‡Æµ‡Æ≤‡ØÅ‡Æµ‡Æø‡Æ©‡Øç ‡Æ™‡Ææ‡Æ§‡Øà‡ÆØ‡Øà ‡Æï‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ."
  ],
  te: [
    "‡∞µ‡∞ø‡∞¶‡±ç‡∞Ø‡±Å‡∞§‡±ç ‡∞ï‡±ç‡∞∑‡±á‡∞§‡±ç‡∞∞‡∞Ç ‡∞Ö‡∞®‡±á‡∞¶‡∞ø ‡∞ö‡∞æ‡∞∞‡±ç‡∞ú‡±ç ‡∞™‡±ç‡∞∞‡∞≠‡∞æ‡∞µ‡∞Ç ‡∞â‡∞Ç‡∞°‡±á ‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞Ç.",
    "‡∞á‡∞¶‡∞ø ‡∞™‡∞∞‡∞ø‡∞Æ‡∞æ‡∞£‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞¶‡∞ø‡∞∂ ‡∞ï‡∞≤‡∞ø‡∞ó‡∞ø‡∞® ‡∞µ‡±Ü‡∞ï‡±ç‡∞ü‡∞∞‡±ç ‡∞∞‡∞æ‡∞∂‡∞ø.",
    "‡∞µ‡∞ø‡∞¶‡±ç‡∞Ø‡±Å‡∞§‡±ç ‡∞ï‡±ç‡∞∑‡±á‡∞§‡±ç‡∞∞ ‡∞∞‡±á‡∞ñ‡∞≤‡±Å ‡∞ß‡∞®‡∞æ‡∞§‡±ç‡∞Æ‡∞ï ‡∞ö‡∞æ‡∞∞‡±ç‡∞ú‡±ç ‡∞™‡±à ‡∞¨‡∞≤ ‡∞¶‡∞ø‡∞∂‡∞®‡±Å ‡∞ö‡±Ç‡∞™‡±Å‡∞§‡∞æ‡∞Ø‡∞ø.",
    "‡∞Ö‡∞µ‡∞ø ‡∞ß‡∞®‡∞æ‡∞§‡±ç‡∞Æ‡∞ï ‡∞ö‡∞æ‡∞∞‡±ç‡∞ú‡±ç ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞Æ‡±à ‡∞™‡±ç‡∞∞‡∞§‡∞ø‡∞ï‡±Ç‡∞≤ ‡∞ö‡∞æ‡∞∞‡±ç‡∞ú‡±ç ‡∞≤‡±á‡∞¶‡∞æ ‡∞Ö‡∞®‡∞Ç‡∞§‡∞Ç ‡∞µ‡∞∞‡∞ï‡±Å ‡∞µ‡±Ü‡∞≥‡±ç‡∞§‡∞æ‡∞Ø‡∞ø.",
    "‡∞∞‡±á‡∞ñ‡∞≤ ‡∞∏‡∞æ‡∞Ç‡∞¶‡±ç‡∞∞‡∞§ ‡∞ï‡±ç‡∞∑‡±á‡∞§‡±ç‡∞∞ ‡∞¨‡∞≤‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡±Ç‡∞ö‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.",
    "‡∞ï‡±ç‡∞∑‡±á‡∞§‡±ç‡∞∞ ‡∞∞‡±á‡∞ñ‡∞≤‡±Å ‡∞é‡∞™‡±ç‡∞™‡±Å‡∞°‡±Ç ‡∞í‡∞ï‡∞¶‡∞æ‡∞®‡∞ø‡∞®‡∞ø ‡∞Æ‡∞∞‡±ä‡∞ï‡∞ü‡∞ø ‡∞¶‡∞æ‡∞ü‡∞µ‡±Å.",
    "‡∞ß‡∞®‡∞æ‡∞§‡±ç‡∞Æ‡∞ï ‡∞™‡∞∞‡±Ä‡∞ï‡±ç‡∞∑ ‡∞ö‡∞æ‡∞∞‡±ç‡∞ú‡±ç ‡∞™‡±Ü‡∞ü‡±ç‡∞ü‡∞°‡∞Ç ‡∞µ‡∞≤‡±ç‡∞≤ ‡∞Ü ‡∞¨‡∞≤ ‡∞¶‡∞ø‡∞∂ ‡∞§‡±Ü‡∞≤‡±Å‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.",
    "‡∞ö‡∞æ‡∞∞‡±ç‡∞ú‡±ç ‡∞ï‡±ç‡∞∑‡±á‡∞§‡±ç‡∞∞ ‡∞∞‡±á‡∞ñ‡∞≤ ‡∞µ‡±Ü‡∞Ç‡∞ü ‡∞ï‡∞¶‡∞≤‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø."
  ],
  or: [
    "‡¨¨‡¨ø‡¨¶‡≠ç‡≠ü‡≠Å‡¨§ ‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞ ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∏‡≠á‡¨π‡¨ø ‡¨Ö‡¨û‡≠ç‡¨ö‡¨≥, ‡¨Ø‡≠á‡¨â‡¨Å‡¨†‡¨æ‡¨∞‡≠á ‡¨ö‡¨æ‡¨∞‡≠ç‡¨ú‡¨∞ ‡¨™‡≠ç‡¨∞‡¨≠‡¨æ‡¨¨ ‡¨Ö‡¨®‡≠Å‡¨≠‡¨¨ ‡¨ï‡¨∞‡¨æ‡¨Ø‡¨æ‡¨è‡•§",
    "‡¨è‡¨π‡¨æ ‡¨è‡¨ï ‡¨∏‡¨¶‡¨ø‡¨∂ ‡¨∞‡¨æ‡¨∂‡¨ø ‡¨Ø‡¨æ‡¨π‡¨æ‡¨∞ ‡¨Æ‡¨æ‡¨™ ‡¨è‡¨¨‡¨Ç ‡¨¶‡¨ø‡¨ó ‡¨â‡¨≠‡≠ü ‡¨•‡¨æ‡¨è‡•§",
    "‡¨¨‡¨ø‡¨¶‡≠ç‡≠ü‡≠Å‡¨§ ‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞ ‡¨∞‡≠á‡¨ñ‡¨æ‡¨ó‡≠Å‡¨°‡¨ø‡¨ï ‡¨∏‡¨ï‡¨æ‡¨∞‡¨æ‡¨§‡≠ç‡¨Æ‡¨ï ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨£ ‡¨ö‡¨æ‡¨∞‡≠ç‡¨ú‡¨∞‡≠á ‡¨¨‡¨≥‡¨∞ ‡¨¶‡¨ø‡¨ó‡¨ï‡≠Å ‡¨¶‡¨∞‡≠ç‡¨∂‡¨æ‡¨è‡•§",
    "‡¨∏‡≠á‡¨ó‡≠Å‡¨°‡¨ø‡¨ï ‡¨∏‡¨ï‡¨æ‡¨∞‡¨æ‡¨§‡≠ç‡¨Æ‡¨ï ‡¨ö‡¨æ‡¨∞‡≠ç‡¨ú‡¨∞‡≠Å ‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‡¨π‡≠ã‡¨á ‡¨ã‡¨£‡¨æ‡¨§‡≠ç‡¨Æ‡¨ï ‡¨ö‡¨æ‡¨∞‡≠ç‡¨ú ‡¨ï‡¨ø‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨Ö‡¨®‡¨®‡≠ç‡¨§ ‡¨™‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨®‡≠ç‡¨§ ‡¨Ø‡¨æ‡¨Ü‡¨®‡≠ç‡¨§‡¨ø‡•§",
    "‡¨∞‡≠á‡¨ñ‡¨æ‡¨ó‡≠Å‡¨°‡¨ø‡¨ï‡¨∞ ‡¨∏‡¨Ç‡¨ò‡¨® ‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞‡¨∞ ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨ï‡≠Å ‡¨∏‡≠Ç‡¨ö‡¨æ‡¨è‡•§",
    "‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞ ‡¨∞‡≠á‡¨ñ‡¨æ‡¨ó‡≠Å‡¨°‡¨ø‡¨ï ‡¨ï‡≠á‡¨¨‡≠á ‡¨è‡¨ï‡¨æ‡¨™‡¨∞‡≠á ‡¨è‡¨ï‡¨ü‡¨ø ‡¨ï‡¨ü‡¨®‡≠ç‡¨§‡¨ø ‡¨®‡¨æ‡¨π‡¨ø‡¨Å‡•§",
    "‡¨∏‡¨ï‡¨æ‡¨∞‡¨æ‡¨§‡≠ç‡¨Æ‡¨ï ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨£ ‡¨ö‡¨æ‡¨∞‡≠ç‡¨ú ‡¨∞‡¨ñ‡¨ø‡¨¨‡¨æ‡¨∞‡≠Å ‡¨¨‡¨≥‡¨∞ ‡¨¶‡¨ø‡¨ó ‡¨ú‡¨£‡¨æ‡¨™‡¨°‡≠á‡•§",
    "‡¨ö‡¨æ‡¨∞‡≠ç‡¨ú ‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞ ‡¨∞‡≠á‡¨ñ‡¨æ ‡¨¶‡¨ø‡¨ó‡¨∞‡≠á ‡¨ó‡¨§‡¨ø ‡¨ï‡¨∞‡≠á‡•§"
  ]
};

const voicesMap = { en:"en-IN", hi:"hi-IN", ta:"ta-IN", te:"te-IN", or:"or-IN" };

function speak(text,lang,callback){
  if(paused) return;
  const utter=new SpeechSynthesisUtterance(text);
  utter.lang=voicesMap[lang]||"en-IN";
  utter.rate=1.05;
  utter.onend=()=>{ if(!paused) callback(); };
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(utter);
}

function resetAnimation(){
  gsap.set("line",{opacity:0});
  gsap.set(testCharge,{opacity:0, x:0, y:0});
  stepIndex=0;
}

function runStep(){
  if(stepIndex >= captions[currentLang].length){
    replayBtn.style.display="inline-block";
    return;
  }

  caption.textContent=captions[currentLang][stepIndex];
  gsap.fromTo(caption,{opacity:0,scale:0.8},{opacity:1,scale:1,duration:0.6});
  gsap.to(animBox,{opacity:1,duration:1});

  if(stepIndex===2){ gsap.to("line",{opacity:1,stagger:0.3,duration:0.8}); }
  if(stepIndex===6){ gsap.to(testCharge,{opacity:1,duration:0.6}); }
  if(stepIndex===7){ gsap.to(testCharge,{y:80,duration:2,ease:"power1.inOut"}); }

  speak(captions[currentLang][stepIndex],currentLang,()=>{
    stepIndex++;
    if(!paused) runStep();
  });
}

pauseBtn.addEventListener("click",()=>{
  paused=!paused;
  if(paused) window.speechSynthesis.cancel();
  else runStep();
  pauseBtn.textContent=paused?"‚ñ∂ Resume":"‚è∏ Pause";
});

replayBtn.addEventListener("click",()=>{
  resetAnimation();
  replayBtn.style.display="none";
  paused=false;
  runStep();
});

langSelect.addEventListener("change",()=>{
  currentLang=langSelect.value;
  resetAnimation();
  window.speechSynthesis.cancel();
  replayBtn.style.display="none";
  runStep();
});

resetAnimation();
runStep();
</script>
</body>
</html>
