<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Comparing Fractions - Space Theme</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: radial-gradient(circle at top, #0b132b, #000000 80%);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    .card {
      background: rgba(0, 0, 0, 0.65);
      border-radius: 20px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.7);
      width: 95%;
      max-width: 950px;
      padding: 20px;
      text-align: center;
      color: white;
    }
    h2, h3 {
      margin: 5px 0;
      text-shadow: 0 0 15px #ffeb3b;
    }
    svg {
      width: 100%;
      height: auto;
    }
    .caption {
      font-size: 1rem;
      margin-top: 12px;
      background: rgba(255,255,255,0.1);
      padding: 8px 16px;
      border-radius: 10px;
      display: inline-block;
    }
    button, select {
      margin: 8px;
      padding: 10px 16px;
      border: none;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
    }
    #replayBtn { background: linear-gradient(90deg,#ff7043,#ff5722); color: #fff; display: none; }
    #pauseBtn { background: linear-gradient(90deg,#00e676,#00c853); color: #fff; }
    select { border: 1px solid #ccc; padding: 6px 12px; }

    .fracText { font-weight: bold; font-size: 18px; fill: #fff; }

    .star { fill: white; opacity: 0.6; animation: twinkle 2s infinite alternate; }
    @keyframes twinkle { from { opacity: 0.2; } to { opacity: 1; } }

    @media(max-width:600px) {
      .fracText { font-size: 14px; }
      .caption { font-size: 0.85rem; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>Fractions</h2>
    <h3>Comparing Fractions</h3>

    <label for="langSelect">üåê Language:</label>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
    </select>

    <svg viewBox="0 0 900 400">
      <!-- Starry Background -->
      <g id="stars">
        <circle class="star" cx="50" cy="50" r="2"/>
        <circle class="star" cx="150" cy="90" r="1.5"/>
        <circle class="star" cx="400" cy="40" r="2"/>
        <circle class="star" cx="600" cy="70" r="1.2"/>
        <circle class="star" cx="750" cy="100" r="1.8"/>
        <circle class="star" cx="850" cy="50" r="1.3"/>
      </g>

      <!-- Fraction Planets -->
      <g id="frac1">
        <circle cx="75" cy="40" r="38" fill="url(#grad1)" stroke="#FFD93D" stroke-width="3"/>
        <text class="fracText" x="75" y="45" text-anchor="middle">3/4</text>
      </g>
      <g id="frac2">
        <circle cx="75" cy="40" r="38" fill="url(#grad2)" stroke="#6BCB77" stroke-width="3"/>
        <text class="fracText" x="75" y="45" text-anchor="middle">2/3</text>
      </g>
      <g id="frac3">
        <circle cx="75" cy="40" r="38" fill="url(#grad3)" stroke="#4D96FF" stroke-width="3"/>
        <text class="fracText" x="75" y="45" text-anchor="middle">5/6</text>
      </g>

      <defs>
        <radialGradient id="grad1" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#FFF176"/>
          <stop offset="100%" stop-color="#FBC02D"/>
        </radialGradient>
        <radialGradient id="grad2" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#A5D6A7"/>
          <stop offset="100%" stop-color="#2E7D32"/>
        </radialGradient>
        <radialGradient id="grad3" cx="30%" cy="30%" r="70%">
          <stop offset="0%" stop-color="#90CAF9"/>
          <stop offset="100%" stop-color="#1565C0"/>
        </radialGradient>
      </defs>
    </svg>

    <div id="caption" class="caption">Let's learn how to compare fractions!</div>
    <br>
    <button id="pauseBtn">‚è∏ Pause</button>
    <button id="replayBtn">üîÑ Replay</button>
  </div>

  <script>
    const caption = document.getElementById("caption");
    const replayBtn = document.getElementById("replayBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const langSelect = document.getElementById("langSelect");

    let paused = false;
    let stepIndex = 0;
    let currentLang = "en";

    const captions = {
      en: [
        "Let's learn how to compare fractions!",
        "We have three fractions: 3/4, 2/3, and 5/6.",
        "Convert them to have the same denominator.",
        "3/4 = 9/12, 2/3 = 8/12, 5/6 = 10/12.",
        "Now compare: 10/12 > 9/12 > 8/12.",
        "So, 5/6 is the largest, then 3/4, and 2/3 is the smallest!"
      ],
      hi: [
        "‡§Ü‡§á‡§è ‡§≠‡§ø‡§®‡•ç‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡§®‡§æ ‡§∏‡•Ä‡§ñ‡•á‡§Ç!",
        "‡§π‡§Æ‡§æ‡§∞‡•á ‡§™‡§æ‡§∏ ‡§§‡•Ä‡§® ‡§≠‡§ø‡§®‡•ç‡§® ‡§π‡•à‡§Ç: 3/4, 2/3 ‡§î‡§∞ 5/6‡•§",
        "‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§∏‡§Æ‡§æ‡§® ‡§π‡§∞ ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡•á‡§Ç‡•§",
        "3/4 = 9/12, 2/3 = 8/12, 5/6 = 10/12‡•§",
        "‡§Ö‡§¨ ‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç: 10/12 > 9/12 > 8/12‡•§",
        "‡§§‡•ã, 5/6 ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§π‡•à, ‡§´‡§ø‡§∞ 3/4 ‡§î‡§∞ 2/3 ‡§∏‡§¨‡§∏‡•á ‡§õ‡•ã‡§ü‡§æ!"
      ],
      ta: [
        "‡Æ™‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡ØÜ‡Ææ‡Æ∞‡ØÅ‡Æ™‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æ≥‡Øà ‡Æí‡Æ™‡Øç‡Æ™‡Æø‡Æü ‡Æï‡Æ±‡Øç‡Æ™‡Øã‡ÆÆ‡Øç!",
        "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æü‡ÆÆ‡Øç ‡ÆÆ‡ØÇ‡Æ©‡Øç‡Æ±‡ØÅ ‡Æ™‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡ØÜ‡Ææ‡Æ∞‡ØÅ‡Æ™‡Ææ‡Æü‡ØÅ‡Æï‡Æ≥‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ©: 3/4, 2/3, ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç 5/6.",
        "‡ÆÖ‡Æµ‡Æ±‡Øç‡Æ±‡Øà ‡Æí‡Æ∞‡Øá ‡Æé‡Æ£‡Øç‡Æï‡ØÅ‡Æ±‡Æø‡ÆØ‡Æø‡Æ≤‡Øç ‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.",
        "3/4 = 9/12, 2/3 = 8/12, 5/6 = 10/12.",
        "‡Æá‡Æ™‡Øç‡Æ™‡Øã‡Æ§‡ØÅ ‡Æí‡Æ™‡Øç‡Æ™‡Æø‡Æü‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç: 10/12 > 9/12 > 8/12.",
        "‡ÆÜ‡Æï‡Æµ‡Øá, 5/6 ‡ÆÆ‡Æø‡Æï‡Æ™‡Øç‡Æ™‡ØÜ‡Æ∞‡Æø‡ÆØ‡Æ§‡ØÅ, ‡Æ™‡Æø‡Æ±‡Æï‡ØÅ 3/4, 2/3 ‡Æö‡Æø‡Æ±‡Æø‡ÆØ‡Æ§‡ØÅ!"
      ],
      te: [
        "‡∞≠‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞≤‡∞®‡±Å ‡∞™‡±ã‡∞≤‡±ç‡∞ö‡∞°‡∞Ç ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç!",
        "‡∞Æ‡∞æ‡∞ï‡±Å ‡∞Æ‡±Ç‡∞°‡±Å ‡∞≠‡∞ø‡∞®‡±ç‡∞®‡∞æ‡∞≤‡±Å ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø: 3/4, 2/3 ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å 5/6.",
        "‡∞Ö‡∞µ‡∞®‡±ç‡∞®‡±Ä ‡∞í‡∞ï‡±á ‡∞π‡∞∞‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞Ç‡∞°‡∞ø.",
        "3/4 = 9/12, 2/3 = 8/12, 5/6 = 10/12.",
        "‡∞á‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞™‡±ã‡∞≤‡±ç‡∞ö‡∞Ç‡∞°‡∞ø: 10/12 > 9/12 > 8/12.",
        "‡∞Ö‡∞Ç‡∞¶‡±Å‡∞µ‡∞≤‡±ç‡∞≤, 5/6 ‡∞™‡±Ü‡∞¶‡±ç‡∞¶‡∞¶‡∞ø, ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§ 3/4, 2/3 ‡∞ö‡∞ø‡∞®‡±ç‡∞®‡∞¶‡∞ø!"
      ],
      or: [
        "‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å ‡¨≠‡¨æ‡¨ó‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï‡≠Å ‡¨§‡≠Å‡¨≥‡¨®‡¨æ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ!",
        "‡¨Ü‡¨Æ ‡¨™‡¨æ‡¨ñ‡¨∞‡≠á 3‡¨ü‡¨ø ‡¨≠‡¨æ‡¨ó ‡¨Ö‡¨õ‡¨ø: 3/4, 2/3 ‡¨è‡¨¨‡¨Ç 5/6‡•§",
        "‡¨∏‡≠á‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï‡≠Å ‡¨∏‡¨Æ‡¨æ‡¨® ‡¨π‡¨∞‡¨∞‡≠á ‡¨™‡¨∞‡¨ø‡¨¨‡¨∞‡≠ç‡¨§‡≠ç‡¨§‡¨® ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å‡•§",
        "3/4 = 9/12, 2/3 = 8/12, 5/6 = 10/12‡•§",
        "‡¨è‡¨¨‡≠á ‡¨§‡≠Å‡¨≥‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å: 10/12 > 9/12 > 8/12‡•§",
        "‡¨§‡≠á‡¨£‡≠Å, 5/6 ‡¨∏‡¨¨‡≠Å‡¨†‡¨æ‡¨∞‡≠Å ‡¨¨‡¨°‡¨º, ‡¨™‡¨∞‡≠á 3/4, ‡¨è‡¨¨‡¨Ç 2/3 ‡¨∏‡¨¨‡≠Å‡¨†‡¨æ‡¨∞‡≠Å ‡¨õ‡≠ã‡¨ü!"
      ]
    };

    const voicesMap = { en: "en-IN", hi: "hi-IN", ta: "ta-IN", te: "te-IN", or: "or-IN" };

    function speak(text, lang, callback) {
      if (paused) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = voicesMap[lang] || "en-IN";
      utterance.rate = 0.95;
      utterance.onend = () => { if (!paused) callback(); };
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utterance);
    }

    function runStep() {
      if (stepIndex >= captions[currentLang].length) {
        replayBtn.style.display = "inline-block";
        return;
      }
      caption.textContent = captions[currentLang][stepIndex];

      if (stepIndex === 1) gsap.to(["#frac1","#frac2","#frac3"], {duration: 0.8, scale: 1.2, yoyo: true, repeat: 1, stagger: 0.3});
      if (stepIndex === 4) {
        gsap.to("#frac3", {duration: 1, y: 150, scale: 1.3});
        gsap.to("#frac1", {duration: 1, y: 100, scale: 1.2});
        gsap.to("#frac2", {duration: 1, y: 50, scale: 1});
      }

      speak(captions[currentLang][stepIndex], currentLang, () => {
        stepIndex++;
        if (!paused) runStep();
      });
    }

    function playAnimation() {
      replayBtn.style.display = "none";
      paused = false;
      stepIndex = 0;
      currentLang = langSelect.value;
      gsap.set("#frac1", {x: 200, y: 100, scale: 1});
      gsap.set("#frac2", {x: 400, y: 100, scale: 1});
      gsap.set("#frac3", {x: 600, y: 100, scale: 1});
      runStep();
    }

    pauseBtn.addEventListener("click", () => {
      if (!paused) { paused = true; window.speechSynthesis.cancel(); pauseBtn.textContent = "‚ñ∂ Play"; }
      else { paused = false; pauseBtn.textContent = "‚è∏ Pause"; runStep(); }
    });

    replayBtn.addEventListener("click", playAnimation);
    langSelect.addEventListener("change", () => {
      currentLang = langSelect.value;
      if (!paused) playAnimation();
      else caption.textContent = captions[currentLang][stepIndex] || captions[currentLang][0];
    });

    playAnimation();
  </script>
</body>
</html>
