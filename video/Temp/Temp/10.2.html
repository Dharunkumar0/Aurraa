<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Introduction to Circle Perimeter</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: radial-gradient(circle at center, #0b0c10, #000);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    .container {
      background: rgba(0, 0, 0, 0.55);
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
      width: 95%;
      max-width: 900px;
      padding: 16px;
      text-align: center;
      color: white;
    }
    h2, h3 { margin: 5px 0; }
    svg { width: 100%; height: auto; }
    .caption {
      font-size: 1rem;
      margin-top: 12px;
      background: rgba(255,255,255,0.15);
      padding: 8px 16px;
      border-radius: 10px;
      display: inline-block;
      color: #fff;
    }
    select, button {
      margin: 8px;
      padding: 8px 14px;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
    }
    select { background: #212121; color: #fff; border: 1px solid #555; }
    #replayBtn { background: #ff7b54; color: #fff; display: none; }
    #pauseBtn { background: #4CAF50; color: #fff; }
    #replayBtn:hover { background: #ff5722; }
    #pauseBtn:hover { background: #2e7d32; }

    .star {
      fill: white;
      opacity: 0.6;
      filter: drop-shadow(0 0 3px white);
      animation: twinkle 2s infinite alternate;
    }
    @keyframes twinkle {
      0% { opacity: 0.3; transform: scale(0.9); }
      100% { opacity: 1; transform: scale(1.1); }
    }

    @media(max-width:600px){
      .caption { font-size: 0.85rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Introduction to Circle Perimeter</h2>
    <h3>(Circumference)</h3>

    <label for="langSelect">üåê Language:</label>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
    </select>

    <svg viewBox="0 0 900 400" preserveAspectRatio="xMidYMid meet">
      <!-- Starry Space Background -->
      <g id="stars">
        <circle class="star" cx="50" cy="50" r="1.5"/>
        <circle class="star" cx="200" cy="90" r="2"/>
        <circle class="star" cx="400" cy="40" r="1.8"/>
        <circle class="star" cx="600" cy="100" r="2.2"/>
        <circle class="star" cx="800" cy="60" r="1.5"/>
        <circle class="star" cx="120" cy="320" r="1.8"/>
        <circle class="star" cx="360" cy="300" r="1.5"/>
        <circle class="star" cx="700" cy="320" r="1.7"/>
      </g>

      <!-- Circle with radius line -->
      <circle id="circle" cx="450" cy="200" r="80" stroke="url(#grad1)" stroke-width="4" fill="none" opacity="0"/>
      <line id="radiusLine" x1="450" y1="200" x2="530" y2="200" stroke="#FFEB3B" stroke-width="3" opacity="0"/>
      <text id="radiusLabel" x="490" y="190" fill="#FFEB3B" font-weight="bold" font-size="18" opacity="0">r</text>

      <defs>
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#FF9800"/>
          <stop offset="100%" stop-color="#FF5722"/>
        </linearGradient>
      </defs>
    </svg>

    <div id="caption" class="caption">Let's learn about circle perimeter!</div>
    <br>
    <button id="pauseBtn">‚è∏ Pause</button>
    <button id="replayBtn">üîÑ Replay</button>
  </div>

  <script>
    const caption = document.getElementById("caption");
    const replayBtn = document.getElementById("replayBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const langSelect = document.getElementById("langSelect");

    let paused = false;
    let stepIndex = 0;
    let currentLang = "en";

    const captions = {
      en: [
        "Let's learn about circle perimeter, also called circumference!",
        "A circle has a radius 'r' from its center to any point on its edge.",
        "The perimeter of a circle is called the circumference.",
        "Its formula is: C = 2 √ó œÄ √ó r"
      ],
      hi: [
        "‡§Ü‡§á‡§è ‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡•Ä ‡§™‡§∞‡§ø‡§ß‡§ø ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡•á‡§Ç, ‡§ú‡§ø‡§∏‡•á ‡§™‡§∞‡§ø‡§Æ‡§æ‡§™ ‡§≠‡•Ä ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç!",
        "‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡§æ ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ 'r' ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§∏‡•á ‡§ï‡§ø‡§®‡§æ‡§∞‡•á ‡§§‡§ï ‡§ï‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§",
        "‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡•Ä ‡§™‡§∞‡§ø‡§ß‡§ø ‡§ï‡•ã circumference ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§",
        "‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§π‡•à: C = 2 √ó œÄ √ó r"
      ],
      ta: [
        "‡Æµ‡Æü‡Øç‡Æü‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æö‡ØÅ‡Æ±‡Øç‡Æ±‡Æ≥‡Æµ‡Øà ‡Æ™‡Æ±‡Øç‡Æ±‡Æø ‡Æï‡Æ±‡Øç‡Æ™‡Øã‡ÆÆ‡Øç!",
        "‡Æµ‡Æü‡Øç‡Æü‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡ÆÜ‡Æ∞‡ÆÆ‡Øç 'r' ‡Æé‡Æ©‡Øç‡Æ™‡Æ§‡ØÅ ‡ÆÆ‡Øà‡ÆØ‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æµ‡Æü‡Øç‡Æü‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æµ‡Æø‡Æ≥‡Æø‡ÆÆ‡Øç‡Æ™‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æâ‡Æ≥‡Øç‡Æ≥ ‡Æ§‡ØÇ‡Æ∞‡ÆÆ‡Øç.",
        "‡Æµ‡Æü‡Øç‡Æü‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æö‡ØÅ‡Æ±‡Øç‡Æ±‡Æ≥‡Æµ‡Øà circumference ‡Æé‡Æ©‡Øç‡Æ±‡ØÅ ‡ÆÖ‡Æ¥‡Øà‡Æ™‡Øç‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Æ≥‡Øç.",
        "‡Æö‡ØÇ‡Æ§‡Øç‡Æ§‡Æø‡Æ∞‡ÆÆ‡Øç: C = 2 √ó œÄ √ó r"
      ],
      te: [
        "‡∞µ‡±É‡∞§‡±ç‡∞§ ‡∞™‡∞∞‡∞ø‡∞ß‡∞ø ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç!",
        "‡∞µ‡±É‡∞§‡±ç‡∞§‡∞Ç ‡∞Ø‡±ä‡∞ï‡±ç‡∞ï ‡∞µ‡±ç‡∞Ø‡∞æ‡∞∏‡∞æ‡∞∞‡±ç‡∞•‡∞Ç 'r' ‡∞Ö‡∞®‡±á‡∞¶‡∞ø ‡∞ï‡±á‡∞Ç‡∞¶‡±ç‡∞∞‡∞Ç ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞Ö‡∞Ç‡∞ö‡±Å ‡∞µ‡∞∞‡∞ï‡±Å ‡∞¶‡±Ç‡∞∞‡∞Ç.",
        "‡∞µ‡±É‡∞§‡±ç‡∞§ ‡∞™‡∞∞‡∞ø‡∞ß‡∞ø‡∞®‡∞ø circumference ‡∞Ö‡∞Ç‡∞ü‡∞æ‡∞∞‡±Å.",
        "‡∞∏‡±Ç‡∞§‡±ç‡∞∞‡∞Ç: C = 2 √ó œÄ √ó r"
      ],
      or: [
        "‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å ‡¨¨‡≠É‡¨§‡≠ç‡¨§‡¨∞ ‡¨™‡¨∞‡¨ø‡¨ß‡¨ø ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ!",
        "‡¨¨‡≠É‡¨§‡≠ç‡¨§‡¨∞ ‡¨¨‡≠ç‡≠ü‡¨æ‡¨∏‡¨æ‡¨∞‡≠ç‡¨ß 'r' ‡¨ï‡≠á‡¨®‡≠ç‡¨¶‡≠ç‡¨∞‡¨∞‡≠Å ‡¨™‡¨æ‡¨ü‡¨ø ‡¨™‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨®‡≠ç‡¨§ ‡¨¶‡≠Ç‡¨∞‡¨§‡¨æ‡•§",
        "‡¨¨‡≠É‡¨§‡≠ç‡¨§‡¨∞ ‡¨™‡¨∞‡¨ø‡¨ß‡¨ø‡¨ï‡≠Å circumference ‡¨ï‡≠Å‡¨π‡¨æ‡¨Ø‡¨æ‡¨è‡•§",
        "‡¨∏‡≠Ç‡¨§‡≠ç‡¨∞: C = 2 √ó œÄ √ó r"
      ]
    };

    const voicesMap = { en: "en-IN", hi: "hi-IN", ta: "ta-IN", te: "te-IN", or: "or-IN" };

    function speak(text, lang, callback) {
      if (paused) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = voicesMap[lang] || "en-IN";
      utterance.rate = 0.95;
      utterance.onend = () => { if (!paused) callback(); };
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utterance);
    }

    function runStep() {
      if (stepIndex >= captions[currentLang].length) {
        replayBtn.style.display = "inline-block";
        return;
      }
      caption.textContent = captions[currentLang][stepIndex];

      if (stepIndex === 1) gsap.to(["#circle","#radiusLine","#radiusLabel"], {duration: 1, opacity: 1, scale: 1.05, transformOrigin:"center"});
      if (stepIndex === 3) gsap.to("#circle", {duration: 1, strokeWidth: 6, repeat: 1, yoyo: true});

      speak(captions[currentLang][stepIndex], currentLang, () => {
        stepIndex++;
        if (!paused) runStep();
      });
    }

    function playAnimation() {
      replayBtn.style.display = "none";
      paused = false;
      stepIndex = 0;
      gsap.set(["#circle","#radiusLine","#radiusLabel"], {opacity:0, scale:1});
      runStep();
    }

    pauseBtn.addEventListener("click", () => {
      if (!paused) { paused = true; window.speechSynthesis.cancel(); pauseBtn.textContent = "‚ñ∂ Play"; }
      else { paused = false; pauseBtn.textContent = "‚è∏ Pause"; runStep(); }
    });

    replayBtn.addEventListener("click", playAnimation);
    langSelect.addEventListener("change", () => {
      currentLang = langSelect.value;
      if (!paused) playAnimation();
      else caption.textContent = captions[currentLang][stepIndex] || captions[currentLang][0];
    });

    playAnimation();
  </script>
</body>
</html>