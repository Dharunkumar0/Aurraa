<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Relations & Functions - ABC Animation</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  height: 100vh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background: radial-gradient(circle at center, #0c0c1c 0%, #1a1a3b 50%, #0c0c1c 100%);
  color: #fff;
  position: relative;
}

/* Floating math symbols & letters */
.math-symbol {
  position: absolute;
  font-size: 16px;
  color: rgba(255,255,255,0.3);
  font-weight: bold;
  pointer-events: none;
  user-select: none;
}

/* Floating ABC letters */
.abc-symbol {
  position: absolute;
  font-size: 20px;
  font-weight: bold;
  color: hsl(0,0%,100%);
  text-shadow: 0 0 10px #fff;
  pointer-events: none;
}

/* Card container */
.card {
  background: rgba(0,0,0,0.7);
  border-radius: 16px;
  padding: 20px;
  width: 90%;
  max-width: 1000px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.8);
  position: relative;
  z-index: 2;
}

/* SVG styling */
svg { width: 100%; height: 400px; margin-top: 20px; }

.node {
  stroke-width: 2;
  opacity:0;
  filter: drop-shadow(0 0 10px #fff);
  font-weight: bold;
  fill:#fff;
  text-anchor: middle;
  dominant-baseline: middle;
}
.edge {
  stroke-width: 3;
  fill: none;
  opacity:0;
}
.reflexive { stroke: #FFD700; stroke-width:3; }
.symmetric { stroke: #00FFFF; stroke-width:3; }
.transitive { stroke: #FF69B4; stroke-width:3; }

.caption {
  font-size: 1rem;
  margin-top: 12px;
  background: rgba(0,0,0,0.4);
  padding: 10px 16px;
  border-radius: 10px;
  display: inline-block;
}

/* Buttons */
button, select {
  margin: 8px;
  padding: 10px 16px;
  border: none;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: bold;
  cursor: pointer;
}
#pauseBtn { background: #4CAF50; color: #fff; }
#replayBtn { background: #ff7b54; color: #fff; display: none; }
#pauseBtn:hover { background: #2e7d32; }
#replayBtn:hover { background: #ff5722; }
select { border: 1px solid #ccc; font-weight: normal; padding: 6px 12px; }
</style>
</head>
<body>

<div class="card">
  <h2>Relations & Functions</h2>
  <h3>Step by Step: Types of Relations</h3>

  <label for="langSelect">üåê Choose Language: </label>
  <select id="langSelect">
    <option value="en">English</option>
    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
    <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
    <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü (Odia)</option>
  </select>

  <svg viewBox="0 0 950 400">
    <!-- Nodes with ABC letters -->
    <text class="node" id="A" x="150" y="200">A</text>
    <text class="node" id="B" x="450" y="200">B</text>
    <text class="node" id="C" x="750" y="200">C</text>

    <!-- Reflexive loop for A -->
    <path class="edge reflexive" d="M150,175 C130,145 170,145 150,175" marker-end="url(#arrow)"/>
    <!-- Symmetric edges -->
    <line class="edge symmetric" x1="150" y1="200" x2="450" y2="200" marker-end="url(#arrow)" marker-start="url(#arrow)"/>
    <!-- Transitive edge -->
    <line class="edge transitive" x1="150" y1="200" x2="750" y2="200" marker-end="url(#arrow)"/>

    <!-- Arrowhead -->
    <defs>
      <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
        <path d="M 0 0 L 10 5 L 0 10 z" fill="#fff" />
      </marker>
    </defs>
  </svg>

  <div id="caption" class="caption">Starting Step by Step...</div>
  <br>
  <button id="pauseBtn">‚è∏ Pause</button>
  <button id="replayBtn">üîÑ Replay</button>
</div>

<script>
// Floating math symbols & equations
const symbols=["‚àë","‚àè","‚àö","‚àû","‚à´","Œ∏","Œª","Œî","+","-","√ó","√∑","f(x)","x+y=z"];
for(let i=0;i<50;i++){
  const sym=document.createElement("div");
  sym.className="math-symbol";
  sym.textContent=symbols[Math.floor(Math.random()*symbols.length)];
  sym.style.fontSize=(Math.random()*25+12)+"px";
  sym.style.top=Math.random()*window.innerHeight+"px";
  sym.style.left=Math.random()*window.innerWidth+"px";
  sym.style.color=`hsl(${Math.random()*360},80%,70%)`;
  document.body.appendChild(sym);
  gsap.to(sym,{y:"+="+(Math.random()*600+200),repeat:-1,duration:Math.random()*40+20,ease:"linear"});
}

// Floating ABC letters
["A","B","C"].forEach(l=>{
  for(let i=0;i<8;i++){
    const abc=document.createElement("div");
    abc.className="abc-symbol";
    abc.textContent=l;
    abc.style.top=Math.random()*window.innerHeight+"px";
    abc.style.left=Math.random()*window.innerWidth+"px";
    document.body.appendChild(abc);
    gsap.to(abc,{y:"+="+(Math.random()*600+200),repeat:-1,duration:Math.random()*30+15,ease:"linear"});
  }
});

// Multi-language captions
const captions={
  en: [
    "Step 1: Reflexive Relation - Each element relates to itself (loop on A).",
    "Step 2: Symmetric Relation - A relates to B and B relates to A (double-headed arrow).",
    "Step 3: Transitive Relation - If A relates to B and B relates to C, then A relates to C.",
    "Step 4: Equivalence Relation - Combines reflexive, symmetric, and transitive properties."
  ],
  hi: [
    "‡§ö‡§∞‡§£ 1: ‡§™‡•ç‡§∞‡§§‡§ø‡§¨‡§ø‡§Ç‡§¨‡§æ‡§§‡•ç‡§Æ‡§ï ‡§∏‡§Ç‡§¨‡§Ç‡§ß - ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§§‡§§‡•ç‡§µ ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•ã‡§§‡§æ ‡§π‡•à (A ‡§™‡§∞ ‡§≤‡•Ç‡§™)‡•§",
    "‡§ö‡§∞‡§£ 2: ‡§∏‡§Æ‡§æ‡§®‡§æ‡§∞‡•ç‡§•‡§ï ‡§∏‡§Ç‡§¨‡§Ç‡§ß - A, B ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à ‡§î‡§∞ B, A ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à (‡§°‡§¨‡§≤-‡§π‡•á‡§°‡•á‡§° ‡§§‡•Ä‡§∞)‡•§",
    "‡§ö‡§∞‡§£ 3: ‡§∏‡§æ‡§Ç‡§§‡§∞‡§£‡•Ä‡§Ø ‡§∏‡§Ç‡§¨‡§Ç‡§ß - ‡§Ø‡§¶‡§ø A, B ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à ‡§î‡§∞ B, C ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à, ‡§§‡•ã A, C ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à‡•§",
    "‡§ö‡§∞‡§£ 4: ‡§∏‡§Æ‡§æ‡§®‡§§‡§æ ‡§∏‡§Ç‡§¨‡§Ç‡§ß - ‡§™‡•ç‡§∞‡§§‡§ø‡§¨‡§ø‡§Ç‡§¨‡§æ‡§§‡•ç‡§Æ‡§ï, ‡§∏‡§Æ‡§æ‡§®‡§æ‡§∞‡•ç‡§•‡§ï ‡§î‡§∞ ‡§∏‡§æ‡§Ç‡§§‡§∞‡§£‡•Ä‡§Ø ‡§ó‡•Å‡§£‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à‡•§"
  ],
  ta: [
    "‡Æ™‡Æü‡Æø 1: ‡Æ™‡Æø‡Æ∞‡Æ§‡Æø‡Æ™‡Æ≤‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æ™‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ - ‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡Æâ‡Æ±‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Æ©‡Øç‡Æ©‡ØÅ‡Æü‡Æ©‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ ‡Æï‡Øä‡Æ≥‡Øç‡Æ≥‡ØÅ‡ÆÆ‡Øç (A ‡Æá‡Æ≤‡Øç ‡Æµ‡Æ≥‡Øà‡Æµ‡ØÅ).",
    "‡Æ™‡Æü‡Æø 2: ‡Æö‡ÆÆ‡ÆÆ‡Ææ‡Æ© ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ - A, B ‡Æâ‡Æü‡Æ©‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ ‡Æï‡Øä‡Æ£‡Øç‡Æü‡Æ§‡ØÅ, B, A ‡Æâ‡Æü‡Æ©‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ ‡Æï‡Øä‡Æ£‡Øç‡Æü‡Æ§‡ØÅ (‡Æá‡Æ∞‡ØÅ ‡Æ§‡Æ≤‡Øà ‡Æï‡Øä‡Æ£‡Øç‡Æü ‡ÆÖ‡ÆÆ‡Øç‡Æ™‡ØÅ).",
    "‡Æ™‡Æü‡Æø 3: ‡Æ™‡Æ∞‡Æø‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡Æ§‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ - A, B ‡Æâ‡Æü‡Æ©‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ‡Æü‡Øà‡ÆØ‡Æ§‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç B, C ‡Æâ‡Æü‡Æ©‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ‡Æü‡Øà‡ÆØ‡Æ§‡ØÅ ‡Æé‡Æ©‡Øç‡Æ±‡Ææ‡Æ≤‡Øç, A, C ‡Æâ‡Æü‡Æ©‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ‡Æü‡Øà‡ÆØ‡Æ§‡ØÅ.",
    "‡Æ™‡Æü‡Æø 4: ‡Æö‡ÆÆ‡ÆÆ‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ - ‡Æ™‡Æø‡Æ∞‡Æ§‡Æø‡Æ™‡Æ≤‡Æø‡Æ™‡Øç‡Æ™‡ØÅ, ‡Æö‡ÆÆ‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æ∞‡Æø‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡ÆÆ‡Øç ‡ÆÜ‡Æï‡Æø‡ÆØ ‡Æ™‡Æ£‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øà ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡Æø‡Æ±‡Æ§‡ØÅ."
  ],
  te: [
    "‡∞¶‡∞∂ 1: ‡∞™‡±ç‡∞∞‡∞§‡∞ø‡∞¨‡∞ø‡∞Ç‡∞¨ ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç - ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞Ö‡∞Ç‡∞∂‡∞Ç ‡∞§‡∞æ‡∞®‡±á ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞¶‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø (A ‡∞™‡±à ‡∞≤‡±Ç‡∞™‡±ç).",
    "‡∞¶‡∞∂ 2: ‡∞∏‡∞Æ‡∞æ‡∞® ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç - A, B ‡∞§‡±ã ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç ‡∞ï‡∞≤‡∞ø‡∞ó‡∞ø ‡∞â‡∞Ç‡∞¶‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å B, A ‡∞§‡±ã ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç ‡∞ï‡∞≤‡∞ø‡∞ó‡∞ø ‡∞â‡∞Ç‡∞¶‡∞ø (‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞§‡∞≤‡∞≤ ‡∞ï‡±ç‡∞∑‡±á‡∞§‡±ç‡∞∞‡∞Ç).",
    "‡∞¶‡∞∂ 3: ‡∞Æ‡∞æ‡∞∞‡±ç‡∞™‡±Å ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç - A, B ‡∞§‡±ã ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç ‡∞â‡∞Ç‡∞ü‡±á ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å B, C ‡∞§‡±ã ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç ‡∞â‡∞Ç‡∞ü‡±á, A, C ‡∞§‡±ã ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç ‡∞â‡∞Ç‡∞ü‡±Å‡∞Ç‡∞¶‡∞ø.",
    "‡∞¶‡∞∂ 4: ‡∞∏‡∞Æ‡∞æ‡∞®‡∞§‡±ç‡∞µ‡∞Ç ‡∞∏‡∞Ç‡∞¨‡∞Ç‡∞ß‡∞Ç - ‡∞™‡±ç‡∞∞‡∞§‡∞ø‡∞¨‡∞ø‡∞Ç‡∞¨‡∞Ç, ‡∞∏‡∞Æ‡∞æ‡∞®‡∞§‡±ç‡∞µ‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Æ‡∞æ‡∞∞‡±ç‡∞™‡±Å ‡∞≤‡∞ï‡±ç‡∞∑‡∞£‡∞æ‡∞≤‡∞®‡±Å ‡∞ï‡∞≤‡±Å‡∞™‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø."
  ],
  or: [
    "‡¨™‡¨¶ 1: ‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨¨‡¨ø‡¨Æ‡≠ç‡¨¨ ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï - ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨â‡¨™‡¨æ‡¨¶‡¨æ‡¨® ‡¨®‡¨ø‡¨ú ‡¨∏‡¨π‡¨ø‡¨§ ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï‡¨ø‡¨§ ‡¨π‡≠Å‡¨è (A ‡¨â‡¨™‡¨∞‡≠á ‡¨≤‡≠Å‡¨™‡≠ç).",
    "‡¨™‡¨¶ 2: ‡¨∏‡¨Æ‡¨æ‡¨® ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï - A, B ‡¨∏‡¨π‡¨ø‡¨§ ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï‡¨ø‡¨§ ‡¨π‡≠Å‡¨è ‡¨è‡¨¨‡¨Ç B, A ‡¨∏‡¨π‡¨ø‡¨§ ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï‡¨ø‡¨§ ‡¨π‡≠Å‡¨è (‡¨¶‡≠Å‡¨á-‡¨∏‡¨ø‡¨∞ ‡¨§‡≠Ä‡¨∞).",
    "‡¨™‡¨¶ 3: ‡¨™‡¨æ‡¨∞‡¨Æ‡≠ç‡¨™‡¨∞‡¨ø‡¨ï ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï - ‡¨Ø‡¨¶‡¨ø A, B ‡¨∏‡¨π‡¨ø‡¨§ ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï‡¨ø‡¨§ ‡¨π‡≠Å‡¨è ‡¨è‡¨¨‡¨Ç B, C ‡¨∏‡¨π‡¨ø‡¨§ ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï‡¨ø‡¨§ ‡¨π‡≠Å‡¨è, ‡¨§‡≠á‡¨¨‡≠á A, C ‡¨∏‡¨π‡¨ø‡¨§ ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï‡¨ø‡¨§ ‡¨π‡≠Å‡¨è.",
    "‡¨™‡¨¶ 4: ‡¨∏‡¨Æ‡¨§‡¨æ ‡¨∏‡¨Æ‡≠ç‡¨™‡¨∞‡≠ç‡¨ï - ‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨¨‡¨ø‡¨Æ‡≠ç‡¨¨, ‡¨∏‡¨Æ‡¨æ‡¨®‡¨§‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨™‡¨æ‡¨∞‡¨Æ‡≠ç‡¨™‡¨∞‡¨ø‡¨ï ‡¨ó‡≠Å‡¨£‡¨ó‡≠Å‡¨°‡¨ø‡¨ï‡≠Å ‡¨è‡¨ï‡¨§‡≠ç‡¨∞ ‡¨ï‡¨∞‡≠á."
  ]
};

const caption=document.getElementById("caption");
const replayBtn=document.getElementById("replayBtn");
const pauseBtn=document.getElementById("pauseBtn");
const langSelect=document.getElementById("langSelect");

let paused=false, currentStepIndex=0, currentLang="en";
const voicesMap={en:"en-IN", hi:"hi-IN", ta:"ta-IN", te:"te-IN", or:"or-IN"};

function speak(text,lang,callback){
  if(paused) return;
  const u=new SpeechSynthesisUtterance(text);
  u.lang=voicesMap[lang]||"en-IN";
  u.rate=0.95;
  u.onend=()=>{if(!paused)callback();}
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(u);
}

function animateStep(index){
  gsap.set(".node,.edge",{opacity:0});
  gsap.set("#A,#B,#C",{opacity:1});
  if(index===0) gsap.to(".reflexive",{opacity:1,duration:1.5});
  else if(index===1) gsap.to(".symmetric",{opacity:1,duration:1.5});
  else if(index===2) gsap.to(".transitive",{opacity:1,duration:1.5});
  else if(index===3) gsap.to(".reflexive,.symmetric,.transitive",{opacity:1,duration:1.5});
  gsap.to(".node",{scale:1.2,repeat:1,yoyo:true,duration:1.5,ease:"power1.inOut"});
}

function runStep(){
  if(currentStepIndex>=captions[currentLang].length){replayBtn.style.display="inline-block"; return;}
  caption.textContent=captions[currentLang][currentStepIndex];
  animateStep(currentStepIndex);
  speak(captions[currentLang][currentStepIndex],currentLang,()=>{
    currentStepIndex++;
    if(!paused) setTimeout(runStep,500);
  });
}

function playAnimation(){
  replayBtn.style.display="none";
  paused=false;
  currentStepIndex=0;
  currentLang=langSelect.value;
  runStep();
}

pauseBtn.addEventListener("click",()=>{
  if(!paused){paused=true;window.speechSynthesis.cancel(); pauseBtn.textContent="‚ñ∂ Play";}
  else{paused=false; pauseBtn.textContent="‚è∏ Pause"; runStep();}
});

replayBtn.addEventListener("click",playAnimation);
langSelect.addEventListener("change",()=>{
  currentLang=langSelect.value;
  if(!paused) playAnimation();
  else caption.textContent=captions[currentLang][currentStepIndex]||captions[currentLang][0];
});

playAnimation();
</script>
</body>
</html>
