<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Functions - One-One, Onto, Bijective</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  height: 100vh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background: radial-gradient(circle at center, #0b0b1f 0%, #1e1e40 60%, #0b0b1f 100%);
  color: #fff;
  position: relative;
}

/* Floating math symbols */
.math-symbol {
  position: absolute;
  font-size: 16px;
  color: rgba(255,255,255,0.3);
  font-weight: bold;
  pointer-events: none;
  user-select: none;
}

/* Card container */
.card {
  background: rgba(0,0,0,0.7);
  border-radius: 16px;
  padding: 20px;
  width: 90%;
  max-width: 1000px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.8);
  position: relative;
  z-index: 2;
}

/* SVG styling */
svg { width: 100%; height: 400px; margin-top: 20px; }

.node {
  fill: #fff;
  stroke: #fff;
  stroke-width: 2;
  font-weight: bold;
  text-anchor: middle;
  dominant-baseline: middle;
  opacity:1;
}
.edge {
  stroke: #fff;
  stroke-width: 2;
  fill: none;
  opacity:0;
}
.caption {
  font-size: 1rem;
  margin-top: 12px;
  background: rgba(0,0,0,0.4);
  padding: 10px 16px;
  border-radius: 10px;
  display: inline-block;
}

/* Buttons */
button, select {
  margin: 8px;
  padding: 10px 16px;
  border: none;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: bold;
  cursor: pointer;
}
#pauseBtn { background: #4CAF50; color: #fff; }
#replayBtn { background: #ff7b54; color: #fff; display: none; }
#pauseBtn:hover { background: #2e7d32; }
#replayBtn:hover { background: #ff5722; }
select { border: 1px solid #ccc; font-weight: normal; padding: 6px 12px; }
</style>
</head>
<body>

<div class="card">
  <h2>Types of Functions</h2>
  <h3>Step by Step: One-One, Onto, Bijective</h3>

  <label for="langSelect">üåê Choose Language: </label>
  <select id="langSelect">
    <option value="en">English</option>
    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
    <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
    <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü (Odia)</option>
  </select>

  <svg viewBox="0 0 950 400">
    <!-- Domain nodes -->
    <text class="node" id="A" x="150" y="100">A</text>
    <text class="node" id="B" x="150" y="200">B</text>
    <text class="node" id="C" x="150" y="300">C</text>

    <!-- Codomain nodes -->
    <text class="node" id="P" x="750" y="100">P</text>
    <text class="node" id="Q" x="750" y="200">Q</text>
    <text class="node" id="R" x="750" y="300">R</text>

    <!-- Edges -->
    <line class="edge" id="edge1" x1="150" y1="100" x2="750" y2="100"/>
    <line class="edge" id="edge2" x1="150" y1="200" x2="750" y2="200"/>
    <line class="edge" id="edge3" x1="150" y1="300" x2="750" y2="300"/>
  </svg>

  <div id="caption" class="caption">Starting Step by Step...</div>
  <br>
  <button id="pauseBtn">‚è∏ Pause</button>
  <button id="replayBtn">üîÑ Replay</button>
</div>

<script>
// Floating math symbols
const symbols=["‚àë","‚àè","‚àö","‚àû","‚à´","Œ∏","Œª","Œî","+","-","√ó","√∑","f(x)","x+y=z"];
for(let i=0;i<50;i++){
  const sym=document.createElement("div");
  sym.className="math-symbol";
  sym.textContent=symbols[Math.floor(Math.random()*symbols.length)];
  sym.style.fontSize=(Math.random()*25+12)+"px";
  sym.style.top=Math.random()*window.innerHeight+"px";
  sym.style.left=Math.random()*window.innerWidth+"px";
  sym.style.color=`hsl(${Math.random()*360},80%,70%)`;
  document.body.appendChild(sym);
  gsap.to(sym,{y:"+="+(Math.random()*600+200),repeat:-1,duration:Math.random()*40+20,ease:"linear"});
}

// Captions
const captions={
  en:[
    "Step 1: Mapping A ‚Üí P",
    "Step 2: Mapping B ‚Üí Q",
    "Step 3: Mapping C ‚Üí R",
    "One-One Function: Each element maps uniquely.",
    "Onto Function: All codomain elements are covered.",
    "Bijective Function: Both One-One and Onto."
  ],
  hi:[
    "‡§ö‡§∞‡§£ 1: A ‚Üí P ‡§Æ‡•à‡§™‡§ø‡§Ç‡§ó",
    "‡§ö‡§∞‡§£ 2: B ‚Üí Q ‡§Æ‡•à‡§™‡§ø‡§Ç‡§ó",
    "‡§ö‡§∞‡§£ 3: C ‚Üí R ‡§Æ‡•à‡§™‡§ø‡§Ç‡§ó",
    "‡§µ‡§®-‡§µ‡§® ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§§‡§§‡•ç‡§µ ‡§Ö‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§Æ‡•à‡§™ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
    "‡§ë‡§®‡•ç‡§ü‡•ã ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§∏‡§≠‡•Ä ‡§ï‡•ã‡§°‡•ã‡§Æ‡•á‡§® ‡§§‡§§‡•ç‡§µ ‡§ï‡§µ‡§∞ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§",
    "‡§¨‡§æ‡§Ø‡§ú‡•á‡§ï‡•ç‡§ü‡§ø‡§µ ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§µ‡§®-‡§µ‡§® ‡§î‡§∞ ‡§ë‡§®‡•ç‡§ü‡•ã ‡§¶‡•ã‡§®‡•ã‡§Ç‡•§"
  ],
  ta:[
    "‡Æ™‡Æü‡Æø 1: A ‚Üí P ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç",
    "‡Æ™‡Æü‡Æø 2: B ‚Üí Q ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç",
    "‡Æ™‡Æü‡Æø 3: C ‚Üí R ‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç",
    "‡Æí‡Æ©‡Øç-‡Æí‡Æ©‡Øç ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡Æ™‡Ææ‡Æü‡ØÅ: ‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡Æâ‡Æ±‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Æ©‡Æø‡Æ§‡Øç‡Æ§‡ØÅ‡Æµ‡ÆÆ‡Ææ‡Æï ‡Æ™‡Øä‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ.",
    "‡Æí‡Æ©‡Øç‡Æü‡Øã ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡Æ™‡Ææ‡Æü‡ØÅ: ‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æï‡Øã‡Æü‡Øä‡ÆÆ‡Øà‡Æ©‡Øç ‡Æâ‡Æ±‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æü‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æ©.",
    "‡Æ™‡Øà‡Æú‡ØÜ‡Æï‡Øç‡Æü‡Æø‡Æµ‡Øç ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Øç‡Æ™‡Ææ‡Æü‡ØÅ: ‡Æí‡Æ©‡Øç-‡Æí‡Æ©‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æí‡Æ©‡Øç‡Æü‡Øã ‡Æá‡Æ∞‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç."
  ],
  te:[
    "‡∞¶‡∞∂ 1: A ‚Üí P ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡∞ø‡∞Ç‡∞ó‡±ç",
    "‡∞¶‡∞∂ 2: B ‚Üí Q ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡∞ø‡∞Ç‡∞ó‡±ç",
    "‡∞¶‡∞∂ 3: C ‚Üí R ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡∞ø‡∞Ç‡∞ó‡±ç",
    "‡∞í‡∞ï-‡∞í‡∞ï ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç: ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞Ö‡∞Ç‡∞∂‡∞Ç ‡∞™‡±ç‡∞∞‡∞§‡±ç‡∞Ø‡±á‡∞ï‡∞Ç‡∞ó‡∞æ ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞™‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.",
    "‡∞Ü‡∞Ç‡∞ü‡±ã ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç: ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞ï‡±ã‡∞°‡±ä‡∞Æ‡±à‡∞®‡±ç ‡∞Ö‡∞Ç‡∞∂‡∞æ‡∞≤‡±Å ‡∞ï‡∞µ‡∞∞‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡∞æ‡∞Ø‡∞ø.",
    "‡∞¨‡±à‡∞ú‡±Ü‡∞ï‡±ç‡∞ü‡∞ø‡∞µ‡±ç ‡∞´‡∞Ç‡∞ï‡±ç‡∞∑‡∞®‡±ç: ‡∞í‡∞ï-‡∞í‡∞ï ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ü‡∞Ç‡∞ü‡±ã ‡∞∞‡±Ü‡∞Ç‡∞°‡±Ç."
  ],
  or:[
    "‡¨™‡¨¶‡¨ï‡≠ç‡¨∑‡≠á‡¨™ 1: A ‚Üí P ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡¨ø‡¨Ç",
    "‡¨™‡¨¶‡¨ï‡≠ç‡¨∑‡≠á‡¨™ 2: B ‚Üí Q ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡¨ø‡¨Ç",
    "‡¨™‡¨¶‡¨ï‡≠ç‡¨∑‡≠á‡¨™ 3: C ‚Üí R ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡¨ø‡¨Ç",
    "‡¨ì‡¨®-‡¨ì‡¨® ‡¨´‡¨ô‡≠ç‡¨ï‡¨∏‡¨®‡≠ç: ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨â‡¨™‡¨æ‡¨¶‡¨æ‡¨® ‡¨è‡¨ï‡¨æ‡¨ß‡¨ø‡¨ï ‡¨≠‡¨æ‡¨¨‡¨∞‡≠á ‡¨Æ‡≠ç‡≠ü‡¨æ‡¨™‡≠ç ‡¨π‡≠Å‡¨è‡•§",
    "‡¨Ö‡¨®‡≠ç‡¨ü‡≠ã ‡¨´‡¨ô‡≠ç‡¨ï‡¨∏‡¨®‡≠ç: ‡¨∏‡¨Æ‡¨∏‡≠ç‡¨§ ‡¨ï‡≠ã‡¨°‡≠ã‡¨Æ‡≠á‡¨®‡≠ç ‡¨â‡¨™‡¨æ‡¨¶‡¨æ‡¨® ‡¨Ü‡¨¨‡¨∞‡≠ç‡¨§‡≠ç‡¨§‡¨ø‡¨§‡•§",
    "‡¨¨‡¨æ‡¨á‡¨ú‡≠á‡¨ï‡≠ç‡¨ü‡¨ø‡¨≠‡≠ç ‡¨´‡¨ô‡≠ç‡¨ï‡¨∏‡¨®‡≠ç: ‡¨ì‡¨®-‡¨ì‡¨® ‡¨è‡¨¨‡¨Ç ‡¨Ö‡¨®‡≠ç‡¨ü‡≠ã ‡¨¶‡≠Å‡¨π‡¨ø‡¨Å‡•§"
  ]
};

const caption=document.getElementById("caption");
const replayBtn=document.getElementById("replayBtn");
const pauseBtn=document.getElementById("pauseBtn");
const langSelect=document.getElementById("langSelect");

let paused=false, currentStepIndex=0, currentLang="en";
const voicesMap={en:"en-IN", hi:"hi-IN", ta:"ta-IN", te:"te-IN", or:"or-IN"};

function speak(text,lang,callback){
  if(paused) return;
  const u=new SpeechSynthesisUtterance(text);
  u.lang=voicesMap[lang]||"en-IN";
  u.rate=0.95;
  u.onend=()=>{if(!paused)callback();}
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(u);
}

function runStep(){
  if(currentStepIndex>=captions[currentLang].length){replayBtn.style.display="inline-block"; return;}
  caption.textContent=captions[currentLang][currentStepIndex];

  // Show edges one by one for first 3 steps
  if(currentStepIndex===0) gsap.to("#edge1",{opacity:1,duration:1.2});
  if(currentStepIndex===1) gsap.to("#edge2",{opacity:1,duration:1.2});
  if(currentStepIndex===2) gsap.to("#edge3",{opacity:1,duration:1.2});

  speak(captions[currentLang][currentStepIndex],currentLang,()=>{
    currentStepIndex++;
    if(!paused) setTimeout(runStep,500);
  });
}

function playAnimation(){
  replayBtn.style.display="none";
  paused=false;
  currentStepIndex=0;
  currentLang=langSelect.value;
  gsap.set(".edge",{opacity:0});
  runStep();
}

pauseBtn.addEventListener("click",()=>{
  if(!paused){paused=true;window.speechSynthesis.cancel(); pauseBtn.textContent="‚ñ∂ Play";}
  else{paused=false; pauseBtn.textContent="‚è∏ Pause"; runStep();}
});

replayBtn.addEventListener("click",playAnimation);
langSelect.addEventListener("change",()=>{
  currentLang=langSelect.value;
  if(!paused) playAnimation();
  else caption.textContent=captions[currentLang][currentStepIndex]||captions[currentLang][0];
});

playAnimation();
</script>
</body>
</html>
