<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Equivalent Fractions</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
  }
  .container {
    text-align: center;
    width: 95%;
    max-width: 1000px;
  }
  h1 {
    color: white;
    text-shadow: 0 0 10px #60a5fa;
    font-size: clamp(1.5rem, 2vw, 2.5rem);
    margin-bottom: 10px;
  }
  svg {
    width: 100%;
    height: 60vh;
  }
  .caption {
    margin-top: 10px;
    padding: 10px;
    border-radius: 10px;
    color: white;
    font-weight: bold;
    background: rgba(255,255,255,0.1);
    backdrop-filter: blur(6px);
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
    min-height: 50px;
    font-size: 1.1rem;
  }
  .caption.show { opacity: 1; }
  select, button {
    margin-top: 10px;
    padding: 8px 12px;
    border-radius: 8px;
    border: none;
    font-weight: bold;
    cursor: pointer;
  }
  select { background: #1e293b; color: white; }
  button {
    background: linear-gradient(135deg, #f59e0b, #3b82f6);
    color: white;
    box-shadow: 0px 0px 10px #3b82f6;
  }
  .controls { display: flex; justify-content: center; gap: 10px; margin-top: 10px; }
</style>
</head>
<body>
<div class="container">
  <h1>тЮЧ Equivalent Fractions</h1>
  <label for="langSelect" style="color:white;">ЁЯМР Language</label>
  <select id="langSelect">
    <option value="en">English</option>
    <option value="hi">рд╣рд┐рдиреНрджреА</option>
    <option value="ta">родрооро┐ро┤рпН</option>
    <option value="te">р░др▒Жр░▓р▒Бр░Чр▒Б</option>
    <option value="or">рмУрмбрм╝рм┐рмЖ</option>
  </select>

  <svg viewBox="0 0 1000 500">
    <defs>
      <radialGradient id="grad" cx="50%" cy="50%" r="50%">
        <stop offset="0%" stop-color="#f472b6"/>
        <stop offset="100%" stop-color="#3b82f6"/>
      </radialGradient>
    </defs>

    <g id="stars"></g>

    <!-- Fraction 1 -->
    <g id="frac1" opacity="0" transform="translate(300,250)">
      <rect x="-60" y="-60" width="120" height="120" fill="none" stroke="#22d3ee" stroke-width="5"/>
      <text x="0" y="-10" fill="white" font-size="28" text-anchor="middle">1</text>
      <line x1="-60" y1="0" x2="60" y2="0" stroke="white" stroke-width="3"/>
      <text x="0" y="40" fill="white" font-size="28" text-anchor="middle">2</text>
      <text x="0" y="80" fill="#facc15" font-size="18" text-anchor="middle">1/2</text>
    </g>

    <!-- Fraction 2 (Equivalent) -->
    <g id="frac2" opacity="0" transform="translate(700,250)">
      <rect x="-60" y="-60" width="120" height="120" fill="none" stroke="#f87171" stroke-width="5"/>
      <text x="0" y="-10" fill="white" font-size="28" text-anchor="middle">2</text>
      <line x1="-60" y1="0" x2="60" y2="0" stroke="white" stroke-width="3"/>
      <text x="0" y="40" fill="white" font-size="28" text-anchor="middle">4</text>
      <text x="0" y="80" fill="#facc15" font-size="18" text-anchor="middle">2/4</text>
    </g>
  </svg>

  <div id="caption" class="caption"></div>
  <div class="controls">
    <button id="playBtn">тЦ╢ Play</button>
    <button id="pauseBtn">тП╕ Pause</button>
  </div>
</div>

<script>
const captions = {
  en: [
    "Let's learn about equivalent fractions.",
    "A fraction represents a part of a whole.",
    "1/2 and 2/4 are equivalent fractions because they represent the same part.",
    "We can multiply or divide numerator and denominator by same number to get equivalent fractions."
  ],
  hi: [
    "рдЖрдЗрдП рд╕рдордХрдХреНрд╖ рднрд┐рдиреНрдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдиреЗрдВред",
    "рдПрдХ рднрд┐рдиреНрди рдкреВрд░реЗ рдХрд╛ рдПрдХ рднрд╛рдЧ рджрд░реНрд╢рд╛рддрд╛ рд╣реИред",
    "1/2 рдФрд░ 2/4 рд╕рдордХрдХреНрд╖ рднрд┐рдиреНрди рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдпреЗ рд╕рдорд╛рди рднрд╛рдЧ рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВред",
    "рднрд┐рдиреНрдиреЛрдВ рдХреЗ рдЕрдВрд╢ рдФрд░ рд╣рд░ рдХреЛ рд╕рдорд╛рди рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рдЧреБрдгрд╛ рдпрд╛ рднрд╛рдЧ рдХрд░рдХреЗ рд╕рдордХрдХреНрд╖ рднрд┐рдиреНрди рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред"
  ],
  ta: [
    "роЪроорооро╛рой рокро┐ро░ро┐родрпНродро┐роХро│рпИ роХро▒рпНрокрпЛроорпН.",
    "роТро░рпБ рокро┐ро░ро┐ро╡рпБ роорпБро┤рпБ роТройрпНро▒ро┐ройрпН роТро░рпБ рокроХрпБродро┐ропро╛роХ роЗро░рпБроХрпНроХрпБроорпН.",
    "1/2 рооро▒рпНро▒рпБроорпН 2/4 роЪроорооро╛рой рокро┐ро░ро┐родрпНродро┐роХро│рпН, роПройрпЖройро┐ро▓рпН роЕро╡рпИ роТро░рпЗ рокроХрпБродро┐ропрпИроХрпН роХрпБро▒ро┐роХрпНроХрпБроорпН.",
    "роЕроЮрпНроЪрпБ рооро▒рпНро▒рпБроорпН ро╣ро░рпИ роТро░рпЗ роОрогрпНрогро╛ро▓рпН рокрпЖро░рпБроХрпНроХро┐ роЕро▓рпНро▓родрпБ рокроХрпБродрпНродрпБ роЪроорооро╛рой рокро┐ро░ро┐родрпНродро┐роХро│рпИ рокрпЖро▒ро▓ро╛роорпН."
  ],
  te: [
    "р░╕р░ор░╛р░ир░ор▒Ир░и р░нр░┐р░ир▒Нр░ир░╛р░▓р░ир▒Б р░ир▒Зр░░р▒Нр░Ър▒Бр░Хр▒Бр░Вр░жр░╛р░В.",
    "р░нр░┐р░ир▒Нр░ир░В р░Тр░Х р░кр▒Вр░░р▒Нр░др░┐ р░нр░╛р░Чр░╛р░ир▒Нр░ир░┐ р░╕р▒Вр░Ър░┐р░╕р▒Нр░др▒Бр░Вр░жр░┐.",
    "1/2 р░ор░░р░┐р░пр▒Б 2/4 р░╕р░ор░╛р░и р░нр░┐р░ир▒Нр░ир░╛р░▓р▒Б р░Ор░Вр░жр▒Бр░Хр░Вр░Яр▒З р░Ер░╡р░┐ р░Ер░жр▒З р░нр░╛р░Чр░╛р░ир▒Нр░ир░┐ р░╕р▒Вр░Ър░┐р░╕р▒Нр░др░╛р░пр░┐.",
    "р░Ер░Вр░╢р░В р░ор░░р░┐р░пр▒Б р░╣р░░р░╛р░ир▒Нр░ир░┐ р░Тр░Хр▒З р░╕р░Вр░Цр▒Нр░пр░др▒Л р░Чр▒Бр░гр░┐р░Вр░Ър░бр░В р░▓р▒Зр░жр░╛ р░нр░╛р░Чр░┐р░Вр░Ър░бр░В р░жр▒Нр░╡р░╛р░░р░╛ р░╕р░ор░╛р░и р░нр░┐р░ир▒Нр░ир░╛р░▓р░ир▒Б р░кр▒Кр░Вр░жр░╡р░Ър▒Нр░Ър▒Б."
  ],
  or: [
    "рм╕рморм╛рми рмнрм┐рмирнНрми рммрм┐рм╖рнЯрм░рнЗ рм╕рм┐рмЦрм┐рммрм╛ред",
    "рмнрм┐рмирнНрми рмкрнВрм░рнНрмгрнНрмгрм░ рмПрмХ рмнрм╛рмЧрмХрнБ рмкрнНрм░рмдрм┐рмирм┐рмзрм┐рмдрнНрн▒ рмХрм░рнЗред",
    "1/2 рмПрммрмВ 2/4 рм╕рморм╛рми рмнрм┐рмирнНрми, рмХрм╛рм░рмг рмПрм╣рм╛ рм╕рморм╛рми рмнрм╛рмЧрмХрнБ рмкрнНрм░рмдрм┐рмирм┐рмзрм┐рмдрнНрн▒ рмХрм░рнЗред",
    "рмЕрмВрм╢ рмПрммрмВ рм╣рм░рмХрнБ рм╕рморм╛рми рм╕рмВрмЦрнНрнЯрм╛рм░рнЗ рмЧрнБрмг рмХрм┐рморнНрммрм╛ рмнрм╛рмЧ рмХрм░рм┐ рм╕рморм╛рми рмнрм┐рмирнНрми рмкрм╛рмЗрмБ рмпрм╛рмЗрмкрм╛рм░рм┐рммред"
  ]
};

const langMap = {en:'en-US', hi:'hi-IN', ta:'ta-IN', te:'te-IN', or:'or-IN'};
const captionEl = document.getElementById("caption");
const playBtn = document.getElementById("playBtn");
const pauseBtn = document.getElementById("pauseBtn");
const langSelect = document.getElementById("langSelect");
let timeline, paused = false;

// Stars background
const starGroup = document.getElementById("stars");
for (let i=0;i<80;i++){
  const star = document.createElementNS("http://www.w3.org/2000/svg","circle");
  star.setAttribute("cx",Math.random()*1000);
  star.setAttribute("cy",Math.random()*500);
  star.setAttribute("r",Math.random()*2);
  star.setAttribute("fill","white");
  starGroup.appendChild(star);
}

function highlightShape(shapeId){
  gsap.to(shapeId, {strokeWidth:10, duration:0.5, repeat:1, yoyo:true, stroke:"#ffffff"});
}

function speak(text, lang){
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = lang;
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(utter);
}

function showCaption(text){
  captionEl.textContent = text;
  captionEl.classList.add("show");
}

function playAnimation(){
  if(timeline) timeline.kill();
  captionEl.textContent = "";
  captionEl.classList.remove("show");
  gsap.set(["#frac1","#frac2"],{opacity:0, scale:0, strokeWidth:5});

  let currentLang = langSelect.value;
  let steps = captions[currentLang];

  timeline = gsap.timeline({paused:false});
  timeline.add(()=>{showCaption(steps[0]); speak(steps[0], langMap[currentLang]);}, "+=0.5");
  timeline.to("#frac1",{opacity:1, scale:1, duration:1, onStart:()=>{showCaption(steps[1]); speak(steps[1], langMap[currentLang]); highlightShape("#frac1");}}, "+=2");
  timeline.to("#frac2",{opacity:1, scale:1, duration:1, onStart:()=>{showCaption(steps[2]); speak(steps[2], langMap[currentLang]); highlightShape("#frac2");}}, "+=4");
  timeline.add(()=>{showCaption(steps[3]); speak(steps[3], langMap[currentLang]);}, "+=2");
}

pauseBtn.addEventListener("click", ()=>{
  paused = !paused;
  pauseBtn.textContent = paused ? "тЦ╢ Resume" : "тП╕ Pause";
  if(paused){ timeline.pause(); window.speechSynthesis.cancel(); }
  else{ timeline.resume(); }
});

playBtn.addEventListener("click", playAnimation);
langSelect.addEventListener("change", playAnimation);
</script>
</body>
</html>
