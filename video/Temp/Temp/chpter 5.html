<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Measuring Line Segments - Space Adventure</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: radial-gradient(circle at top, #000000, #0d0d2a);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .container {
      background: rgba(0, 0, 0, 0.8);
      border-radius: 15px;
      padding: 20px;
      width: 90%;
      max-width: 800px;
      text-align: center;
    }

    svg {
      width: 100%;
      height: 300px;
      margin-top: 20px;
    }

    .caption {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
      font-size: 1.2rem;
    }

    button,
    select {
      margin: 10px;
      padding: 10px 16px;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
    }

    #pauseBtn {
      background-color: #4caf50;
      color: white;
    }

    #replayBtn {
      background-color: #ff7b54;
      color: white;
      display: none;
    }

    .star {
      fill: white;
      opacity: 0.7;
      animation: twinkle 2.5s infinite alternate;
    }

    @keyframes twinkle {
      from {
        opacity: 0.3;
      }

      to {
        opacity: 1;
      }
    }

    .line {
      stroke: #FFD700;
      stroke-width: 5;
    }

    .point {
      fill: #FFD700;
      stroke: #fff;
      stroke-width: 2;
    }

    .ruler {
      stroke: #00ffff;
      stroke-width: 3;
      stroke-dasharray: 10 5;
      opacity: 0.7;
    }

    .measurement {
      fill: #00ffff;
      font-size: 20px;
      font-weight: bold;
    }

    .pointLabel {
      fill: #FFD700;
      font-weight: bold;
      font-size: 18px;
      opacity: 0;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2>Elementary Shapes: Measuring Line Segments</h2>

    <label for="langSelect">üåê Language: </label>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
    </select>

    <svg viewBox="0 0 800 300" preserveAspectRatio="xMidYMid meet">
      <g id="stars">
        <circle class="star" cx="50" cy="50" r="2"></circle>
        <circle class="star" cx="200" cy="80" r="1.5"></circle>
        <circle class="star" cx="400" cy="40" r="2"></circle>
        <circle class="star" cx="600" cy="70" r="1.8"></circle>
        <circle class="star" cx="750" cy="50" r="1.2"></circle>
      </g>

      <!-- Line Segment -->
      <line id="lineSegment" class="line" x1="150" y1="150" x2="650" y2="150"></line>

      <!-- Points -->
      <circle id="pointA" class="point" cx="150" cy="150" r="7"></circle>
      <circle id="pointB" class="point" cx="650" cy="150" r="7"></circle>

      <!-- Point Labels -->
      <text id="labelA" class="pointLabel" x="140" y="140">A</text>
      <text id="labelB" class="pointLabel" x="640" y="140">B</text>

      <!-- Ruler -->
      <line id="ruler" class="ruler" x1="150" y1="160" x2="650" y2="160"></line>

      <!-- Measurement -->
      <text id="measureLabel" class="measurement" x="400" y="130" text-anchor="middle">?</text>
    </svg>

    <div id="caption" class="caption">Let‚Äôs learn to measure a line segment.</div>

    <button id="pauseBtn">‚è∏ Pause</button>
    <button id="replayBtn">üîÑ Replay</button>
  </div>

  <script>
    const caption = document.getElementById("caption");
    const replayBtn = document.getElementById("replayBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const langSelect = document.getElementById("langSelect");
    const measureLabel = document.getElementById("measureLabel");
    const ruler = document.getElementById("ruler");
    const labelA = document.getElementById("labelA");
    const labelB = document.getElementById("labelB");

    let paused = false;
    let stepIndex = 0;
    let currentLang = "en";

    const captions = {
      en: [
        "Welcome! Let's measure line segments in geometry.",
        "A line segment connects two points: Point A and Point B.",
        "Observe the glowing ruler below the line segment.",
        "Example Measurement: AB = 500 units."
      ],
      hi: [
        "‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ‡§ö‡§≤‡§ø‡§è ‡§ú‡•ç‡§Ø‡§æ‡§Æ‡§ø‡§§‡§ø ‡§Æ‡•á‡§Ç ‡§∞‡•á‡§ñ‡§æ ‡§ñ‡§Ç‡§° ‡§Æ‡§æ‡§™‡§§‡•á ‡§π‡•à‡§Ç‡•§",
        "‡§∞‡•á‡§ñ‡§æ ‡§ñ‡§Ç‡§° ‡§¶‡•ã ‡§¨‡§ø‡§Ç‡§¶‡•Å A ‡§î‡§∞ B ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à‡•§",
        "‡§∞‡•á‡§ñ‡§æ ‡§ñ‡§Ç‡§° ‡§ï‡•á ‡§®‡•Ä‡§ö‡•á ‡§ö‡§Æ‡§ï‡§§‡§æ ‡§π‡•Å‡§Ü ‡§™‡•à‡§Æ‡§æ‡§®‡§æ ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§",
        "‡§â‡§¶‡§æ‡§π‡§∞‡§£: AB = 500 ‡§á‡§ï‡§æ‡§á‡§Ø‡§æ‡§Å‡•§"
      ],
      ta: [
        "‡Æµ‡Æ∞‡Æµ‡Øá‡Æ±‡Øç‡Æ™‡ØÅ! ‡Æï‡Øã‡Æü‡ØÅ ‡Æö‡ØÜ‡Æï‡Øç‡ÆÆ‡ØÜ‡Æ©‡Øç‡Æü‡ØÅ‡Æï‡Æ≥‡Øà ‡ÆÖ‡Æ≥‡Æµ‡Æø‡Æü ‡Æï‡Æ±‡Øç‡Æ™‡Øã‡ÆÆ‡Øç.",
        "‡Æï‡Øã‡Æü‡ØÅ ‡Æö‡ØÜ‡Æï‡Øç‡ÆÆ‡ØÜ‡Æ©‡Øç‡Æü‡Øç ‡Æá‡Æ∞‡Æ£‡Øç‡Æü‡ØÅ ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡Æï‡Æ≥‡Øç A ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç B ‡Æê ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡Æø‡Æ±‡Æ§‡ØÅ.",
        "‡Æï‡Øã‡Æü‡ØÅ ‡Æö‡ØÜ‡Æï‡Øç‡ÆÆ‡ØÜ‡Æ©‡Øç‡Æü‡Øç ‡Æï‡ØÄ‡Æ¥‡Øç ‡Æ™‡Æø‡Æ∞‡Æï‡Ææ‡Æö‡Æø‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ∞‡ØÅ‡Æ≤‡Æ∞‡Øà ‡Æï‡Æµ‡Æ©‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.",
        "‡Æâ‡Æ§‡Ææ‡Æ∞‡Æ£‡ÆÆ‡Øç: AB = 500 ‡ÆØ‡ØÇ‡Æ©‡Æø‡Æü‡Øç‡Æ∏‡Øç."
      ],
      te: [
        "‡∞∏‡±ç‡∞µ‡∞æ‡∞ó‡∞§‡∞Ç! ‡∞≤‡±à‡∞®‡±ç ‡∞∏‡±Ü‡∞ó‡±ç‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç‡∞≤‡∞®‡±Å ‡∞ï‡±ä‡∞≤‡∞µ‡∞°‡∞Ç ‡∞®‡±á‡∞∞‡±ç‡∞ö‡±Å‡∞ï‡±Å‡∞Ç‡∞¶‡∞æ‡∞Ç.",
        "‡∞≤‡±à‡∞®‡±ç ‡∞∏‡±Ü‡∞ó‡±ç‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç A ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å B ‡∞Ö‡∞®‡±á ‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞¨‡∞ø‡∞Ç‡∞¶‡±Å‡∞µ‡±Å‡∞≤‡∞®‡±Å ‡∞ï‡∞≤‡±Å‡∞™‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.",
        "‡∞≤‡±à‡∞®‡±ç ‡∞∏‡±Ü‡∞ó‡±ç‡∞Æ‡±Ü‡∞Ç‡∞ü‡±ç ‡∞ï‡∞ø‡∞Ç‡∞¶ ‡∞™‡±ç‡∞∞‡∞ï‡∞æ‡∞∂‡∞ø‡∞Ç‡∞ö‡±á ruler ‡∞®‡±Å ‡∞ó‡∞Æ‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.",
        "‡∞â‡∞¶‡∞æ‡∞π‡∞∞‡∞£: AB = 500 ‡∞Ø‡±Ç‡∞®‡∞ø‡∞ü‡±ç‡∞∏‡±ç."
      ],
      or: [
        "‡¨∏‡≠ç‡≠±‡¨æ‡¨ó‡¨§! ‡¨∞‡≠á‡¨ñ‡¨æ ‡¨ñ‡¨£‡≠ç‡¨° ‡¨Æ‡¨æ‡¨™‡¨ø‡¨¨‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ.",
        "‡¨∞‡≠á‡¨ñ‡¨æ ‡¨ñ‡¨£‡≠ç‡¨° ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨¨‡¨ø‡¨®‡≠ç‡¨¶‡≠Å A ‡¨è‡¨¨‡¨Ç B ‡¨ï‡≠Å ‡¨Ø‡≠ã‡¨°‡¨º‡≠á‡•§",
        "‡¨∞‡≠á‡¨ñ‡¨æ ‡¨ñ‡¨£‡≠ç‡¨° ‡¨§‡¨≥‡≠á ‡¨ú‡≠ç‡≠±‡¨≥‡¨®‡≠ç‡¨§ ‡¨∞‡≠Å‡¨≤‡¨∞‡¨ï‡≠Å ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å‡•§",
        "‡¨â‡¨¶‡¨æ‡¨π‡¨∞‡¨£: AB = 500 ‡¨á‡¨â‡¨®‡¨ø‡¨ü‡≠ç."
      ]
    };

    const voicesMap = { en: "en-IN", hi: "hi-IN", ta: "ta-IN", te: "te-IN", or: "or-IN" };

    function speak(text, lang, callback) {
      if (paused) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = voicesMap[lang] || "en-IN";
      utterance.rate = 0.95;
      utterance.onend = () => { if (!paused) callback(); };
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utterance);
    }

    function nextStep() {
      if (stepIndex >= captions[currentLang].length) {
        replayBtn.style.display = "inline-block";
        return;
      }

      caption.textContent = captions[currentLang][stepIndex];

      if (stepIndex === 2) {
        // Show ruler
        gsap.fromTo(ruler, { opacity: 0 }, { opacity: 1, duration: 1.5, repeat: 1, yoyo: true });
        // Show point labels
        gsap.to([labelA, labelB], { opacity: 1, duration: 1 });
      }

      if (stepIndex === 3) {
        measureLabel.textContent = "500 units";
        gsap.fromTo(measureLabel, { scale: 0 }, { scale: 1.5, duration: 1, yoyo: true, repeat: 1 });
      }

      speak(captions[currentLang][stepIndex], currentLang, () => {
        stepIndex++;
        if (!paused) nextStep();
      });
    }

    function startAnimation() {
      paused = false;
      replayBtn.style.display = "none";
      stepIndex = 0;
      currentLang = langSelect.value;
      measureLabel.textContent = "?";
      gsap.set(measureLabel, { scale: 1, opacity: 1 });
      gsap.set(ruler, { opacity: 0 });
      gsap.set([labelA, labelB], { opacity: 0 });

      nextStep();
    }

    pauseBtn.addEventListener("click", () => {
      if (!paused) {
        paused = true;
        window.speechSynthesis.cancel();
        pauseBtn.textContent = "‚ñ∂ Play";
      } else {
        paused = false;
        pauseBtn.textContent = "‚è∏ Pause";
        nextStep();
      }
    });

    replayBtn.addEventListener("click", startAnimation);

    langSelect.addEventListener("change", () => {
      currentLang = langSelect.value;
      if (!paused) startAnimation();
      else caption.textContent = captions[currentLang][stepIndex] || captions[currentLang][0];
    });

    startAnimation();
  </script>
</body>

</html>
